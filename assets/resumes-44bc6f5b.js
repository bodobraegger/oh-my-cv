import{i as N,j as E,l as b,m as R,P as f,M as V,n as I,o as y,p as S,_ as B,q as C,f as D,t as h,v as O,w as q,x as F}from"./toast-a8f2e09e.js";import{v as e,u as p,_ as m,e as P}from"./app-926948a0.js";import{s as v,w as U,a as L}from"./Header-61bf9dc8.js";const M={"text-center":""},A={key:0,"text-xs":"","text-light-c":"","mt-1.5":""},T={"text-xs":"","text-light-c":"","mt-0.5":""},j=e.defineComponent({__name:"ResumeInfo",props:{resume:{type:null,required:!0}},emits:["update"],setup(t,{emit:o}){const s=t,n=async a=>{await N(s.resume.id,a),o("update")},{t:c}=p(),r=a=>a&&new Date(parseInt(a)).toISOString().substring(0,19).replace("T"," ").replaceAll("-","/"),u=e.computed(()=>r(s.resume.id)),l=e.computed(()=>r(s.resume.update));return(a,i)=>{const d=E;return e.openBlock(),e.createElementBlock("div",M,[e.createVNode(d,{class:"w-53 mx-auto",text:t.resume.name,"on-entered":n},null,8,["text"]),e.unref(l)?(e.openBlock(),e.createElementBlock("div",A,e.toDisplayString(e.unref(c)("resumes.updated"))+e.toDisplayString(e.unref(l)),1)):e.createCommentVNode("v-if",!0),e.createElementVNode("div",T,e.toDisplayString(e.unref(c)("resumes.created"))+e.toDisplayString(e.unref(u)),1)])}}}),z=m(j,[["__file","/home/runner/work/oh-my-cv/oh-my-cv/site/src/components/resumes/ResumeInfo.vue"]]),w=t=>(e.pushScopeId("data-v-2320bd0a"),t=t(),e.popScopeId(),t),G={class:"resume-options absolute right-3 top-3 space-y-2"},H=w(()=>e.createElementVNode("span",{class:"iconify","data-icon":"ion:duplicate"},null,-1)),J=[H],K=w(()=>e.createElementVNode("span",{class:"iconify","data-icon":"material-symbols:delete-outline-rounded"},null,-1)),X=[K],Q=e.defineComponent({__name:"ResumeOptions",props:{resume:{type:null,required:!0}},emits:["update"],setup(t,{emit:o}){const s=t,n=async()=>{await b(s.resume.id),o("update")},c=async()=>{await R(s.resume.id),o("update")};return(r,u)=>(e.openBlock(),e.createElementBlock("div",G,[e.createElementVNode("button",{onClick:n},J),e.createElementVNode("button",{onClick:c},X)]))}});const W=m(Q,[["__scopeId","data-v-2320bd0a"],["__file","/home/runner/work/oh-my-cv/oh-my-cv/site/src/components/resumes/ResumeOptions.vue"]]),Y={"w-56":"","h-80":""},Z=e.defineComponent({__name:"ResumeItem",props:{resume:{type:null,required:!0}},emits:["update"],setup(t,{emit:o}){const s=t,{locale:n}=p(),c=f[s.resume.styles.paper].w,r=f[s.resume.styles.paper].h,u=e.ref(),l=async()=>{I(s.resume.css,s.resume.id),await y(s.resume.styles.fontEN),await y(s.resume.styles.fontCJK),S(s.resume.styles,s.resume.id),u.value.forceUpdate()};return e.onMounted(l),e.onUpdated(l),(a,i)=>{const d=B,_=e.resolveComponent("router-link"),x=W,g=z;return e.openBlock(),e.createElementBlock("div",null,[e.createElementVNode("div",Y,[e.createElementVNode("div",{class:"resume-card border border-c",style:e.normalizeStyle({width:`${e.unref(c)}px`,height:`${e.unref(r)}px`})},[e.createVNode(_,{to:{path:("switchPath"in a?a.switchPath:e.unref(v))("edit",e.unref(n)),query:{id:s.resume.id}}},{default:e.withCtx(()=>[e.createVNode(d,{id:t.resume.id,ref_key:"render",ref:u,markdown:t.resume.markdown,styles:t.resume.styles,style:e.normalizeStyle({transform:`scale(${1/e.unref(V)})`}),class:"origin-top-left"},null,8,["id","markdown","styles","style"])]),_:1},8,["to"]),e.createVNode(x,{resume:t.resume,onUpdate:i[0]||(i[0]=$=>o("update"))},null,8,["resume"])],4)]),e.createVNode(g,{resume:t.resume,onUpdate:i[1]||(i[1]=$=>o("update"))},null,8,["resume"])])}}});const ee=m(Z,[["__scopeId","data-v-33941668"],["__file","/home/runner/work/oh-my-cv/oh-my-cv/site/src/components/resumes/ResumeItem.vue"]]),te=t=>(e.pushScopeId("data-v-0172303e"),t=t(),e.popScopeId(),t),se={"w-56":"","h-80":""},oe=["aria-label"],ne=te(()=>e.createElementVNode("span",{class:"iconify w-12 h-12 text-light-c","data-icon":"ic:round-plus"},null,-1)),ce=[ne],ae=e.defineComponent({__name:"NewResume",setup(t){const{t:o,locale:s}=p(),n=P(),c=async()=>{const r=await C();n.push({path:v("edit",s.value),query:{id:r}})};return(r,u)=>(e.openBlock(),e.createElementBlock("div",se,[e.createElementVNode("button",{class:"resume-card w-[210px] h-[299px] flex-center bg-darker-c hover:bg-c","aria-label":e.unref(o)("resumes.new"),onClick:c},ce,8,oe)]))}});const re=m(ae,[["__scopeId","data-v-0172303e"],["__file","/home/runner/work/oh-my-cv/oh-my-cv/site/src/components/resumes/NewResume.vue"]]),k=t=>(e.pushScopeId("data-v-6aeed7b6"),t=t(),e.popScopeId(),t),ue={class:"file-options hstack space-x-2"},le=["aria-label"],ie=k(()=>e.createElementVNode("span",{class:"iconify","data-icon":"ic:baseline-save-as"},null,-1)),me=["aria-label"],de=k(()=>e.createElementVNode("span",{class:"iconify","data-icon":"ic:round-upload-file"},null,-1)),pe=e.defineComponent({__name:"FileOptions",emits:["update"],setup(t){const{t:o}=p();return D("shift+ctrl+s",h),(s,n)=>(e.openBlock(),e.createElementBlock("div",ue,[e.createElementVNode("button",{"aria-label":e.unref(o)("resumes.saveas"),onClick:n[0]||(n[0]=(...c)=>e.unref(h)&&e.unref(h)(...c))},[ie,e.createElementVNode("span",null,e.toDisplayString(e.unref(o)("resumes.saveas")),1)],8,le),e.createElementVNode("button",{"aria-label":e.unref(o)("resumes.import"),onClick:n[1]||(n[1]=()=>e.unref(O)(()=>s.$emit("update")))},[de,e.createElementVNode("span",null,e.toDisplayString(e.unref(o)("resumes.import")),1)],8,me)]))}});const _e=m(pe,[["__scopeId","data-v-6aeed7b6"],["__file","/home/runner/work/oh-my-cv/oh-my-cv/site/src/components/resumes/FileOptions.vue"]]),he={class:"resumes-page"},fe={class:"max-w-306 mx-auto px-5 py-16 text-dark-c"},ye={class:"space-y-2 md:hstack md:justify-between"},ve={"font-bold":"","text-2xl":"","sm:text-3xl":""},we={class:"flex flex-wrap gap-x-4 gap-y-8 mt-8"},ke=e.defineComponent({__name:"resumes",props:{locale:{type:[Array,String],required:!0}},setup(t){const o=t,{t:s}=p(),n=e.ref(),c=async()=>{n.value=await F()};return e.onMounted(c),U(o),q(),(r,u)=>{const l=L,a=_e,i=re,d=ee;return e.openBlock(),e.createElementBlock("div",he,[e.createVNode(l),e.createElementVNode("div",fe,[e.createElementVNode("div",ye,[e.createElementVNode("h1",ve,e.toDisplayString(e.unref(s)("resumes.my_resumes")),1),e.createVNode(a,{onUpdate:c})]),e.createElementVNode("div",we,[e.createVNode(i),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(n),_=>(e.openBlock(),e.createBlock(d,{key:_.id,class:"resume-item",resume:_,onUpdate:c},null,8,["resume"]))),128))])])])}}}),Ne=m(ke,[["__file","/home/runner/work/oh-my-cv/oh-my-cv/site/src/pages/[...locale]/resumes.vue"]]);export{Ne as default};

import{n as E,o as N,v as V,x as $,P as f,y,M as R,z as I,A as v,B as S,j as B,l as C,D as _,F as D,G as O,w as F,q,H as P,t as U}from"./toast-cc21c3e6.js";import{v as e,u as m,_ as p,e as A}from"./app-c051d804.js";const L={"text-center":""},M={key:0,"text-xs":"","text-light-c":"","mt-1.5":""},T={"text-xs":"","text-light-c":"","mt-0.5":""},z=e.defineComponent({__name:"ResumeInfo",props:{resume:{type:null,required:!0}},emits:["update"],setup(t,{emit:n}){const s=t,a=async u=>{await E(s.resume.id,u),n("update")},{t:o}=m(),c=u=>u&&new Date(parseInt(u)).toISOString().substring(0,19).replace("T"," ").replaceAll("-","/"),r=e.computed(()=>c(s.resume.id)),l=e.computed(()=>c(s.resume.update));return(u,i)=>{const d=N;return e.openBlock(),e.createElementBlock("div",L,[e.createVNode(d,{class:"w-53 mx-auto",text:t.resume.name,"on-entered":a},null,8,["text"]),e.unref(l)?(e.openBlock(),e.createElementBlock("div",M,e.toDisplayString(e.unref(o)("resumes.updated"))+e.toDisplayString(e.unref(l)),1)):e.createCommentVNode("v-if",!0),e.createElementVNode("div",T,e.toDisplayString(e.unref(o)("resumes.created"))+e.toDisplayString(e.unref(r)),1)])}}}),j=p(z,[["__file","/home/runner/work/oh-cv/oh-cv/site/src/components/resumes/ResumeInfo.vue"]]),k=t=>(e.pushScopeId("data-v-2320bd0a"),t=t(),e.popScopeId(),t),G={class:"resume-options absolute right-3 top-3 space-y-2"},H=k(()=>e.createElementVNode("span",{class:"iconify","data-icon":"ion:duplicate"},null,-1)),J=[H],K=k(()=>e.createElementVNode("span",{class:"iconify","data-icon":"material-symbols:delete-outline-rounded"},null,-1)),X=[K],Q=e.defineComponent({__name:"ResumeOptions",props:{resume:{type:null,required:!0}},emits:["update"],setup(t,{emit:n}){const s=t,a=async()=>{await V(s.resume.id),n("update")},o=async()=>{await $(s.resume.id),n("update")};return(c,r)=>(e.openBlock(),e.createElementBlock("div",G,[e.createElementVNode("button",{onClick:a},J),e.createElementVNode("button",{onClick:o},X)]))}});const W=p(Q,[["__scopeId","data-v-2320bd0a"],["__file","/home/runner/work/oh-cv/oh-cv/site/src/components/resumes/ResumeOptions.vue"]]),Y={"w-56":"","h-80":""},Z=e.defineComponent({__name:"ResumeItem",props:{resume:{type:null,required:!0}},emits:["update"],setup(t,{emit:n}){const s=t,{locale:a}=m(),o=f[s.resume.styles.paper].w,c=f[s.resume.styles.paper].h,r=e.ref(),l=async()=>{I(s.resume.css,s.resume.id),await v(s.resume.styles.fontEN),await v(s.resume.styles.fontCJK),S(s.resume.styles,s.resume.id),r.value.forceUpdate()};return e.onMounted(l),e.onUpdated(l),(u,i)=>{const d=B,w=e.resolveComponent("router-link"),x=W,g=j;return e.openBlock(),e.createElementBlock("div",null,[e.createElementVNode("div",Y,[e.createElementVNode("div",{class:"resume-card relative block cursor-pointer mx-auto overflow-hidden rounded-md border border-c duration-150 hover:-translate-y-3 hover:drop-shadow-xl",style:e.normalizeStyle({width:`${e.unref(o)}px`,height:`${e.unref(c)}px`})},[e.createVNode(w,{to:{path:("switchPath"in u?u.switchPath:e.unref(y))("edit",e.unref(a)),query:{id:s.resume.id}}},{default:e.withCtx(()=>[e.createVNode(d,{id:t.resume.id,ref_key:"render",ref:r,markdown:t.resume.markdown,styles:t.resume.styles,style:e.normalizeStyle({transform:`scale(${1/e.unref(R)})`}),class:"origin-top-left"},null,8,["id","markdown","styles","style"])]),_:1},8,["to"]),e.createVNode(x,{resume:t.resume,onUpdate:i[0]||(i[0]=b=>n("update"))},null,8,["resume"])],4)]),e.createVNode(g,{resume:t.resume,onUpdate:i[1]||(i[1]=b=>n("update"))},null,8,["resume"])])}}});const ee=p(Z,[["__scopeId","data-v-33941668"],["__file","/home/runner/work/oh-cv/oh-cv/site/src/components/resumes/ResumeItem.vue"]]),h=t=>(e.pushScopeId("data-v-6aeed7b6"),t=t(),e.popScopeId(),t),te={class:"file-options hstack space-x-2"},se=h(()=>e.createElementVNode("span",{class:"iconify","data-icon":"material-symbols:note-add-outline-rounded"},null,-1)),oe=h(()=>e.createElementVNode("span",{class:"iconify","data-icon":"ic:baseline-save-as"},null,-1)),ne=h(()=>e.createElementVNode("span",{class:"iconify","data-icon":"ic:round-upload-file"},null,-1)),re=e.defineComponent({__name:"FileOptions",emits:["update"],setup(t){const n=A(),{t:s}=m(),{locale:a}=m(),o=async()=>{const c=await O();n.push({path:y("edit",a.value),query:{id:c}})};return C("shift+ctrl+s",_),(c,r)=>(e.openBlock(),e.createElementBlock("div",te,[e.createElementVNode("button",{class:"text-white bg-blue-500 hover:bg-blue-600 hover:dark:bg-blue-400",onClick:o},[se,e.createElementVNode("span",null,e.toDisplayString(e.unref(s)("resumes.new")),1)]),e.createElementVNode("button",{class:"border border-dark-c hover:bg-darker-c",onClick:r[0]||(r[0]=(...l)=>e.unref(_)&&e.unref(_)(...l))},[oe,e.createElementVNode("span",null,e.toDisplayString(e.unref(s)("resumes.saveas")),1)]),e.createElementVNode("button",{class:"border border-dark-c hover:bg-darker-c",onClick:r[1]||(r[1]=()=>e.unref(D)(()=>c.$emit("update")))},[ne,e.createElementVNode("span",null,e.toDisplayString(e.unref(s)("resumes.import")),1)])]))}});const ae=p(re,[["__scopeId","data-v-6aeed7b6"],["__file","/home/runner/work/oh-cv/oh-cv/site/src/components/resumes/FileOptions.vue"]]),ce={class:"resumes-page"},ue={class:"max-w-306 mx-auto px-5 py-16 text-dark-c"},le={class:"space-y-2 md:hstack md:justify-between"},ie={"font-bold":"","text-2xl":"","sm:text-3xl":""},de={class:"flex flex-wrap gap-x-4 gap-y-8 mt-8"},me=e.defineComponent({__name:"index",props:{locale:{type:[Array,String],required:!0}},setup(t){const n=t,{t:s}=m(),a=e.ref(),o=async()=>{a.value=await P()};return e.onMounted(o),F(n),q(),(c,r)=>{const l=U,u=ae,i=ee;return e.openBlock(),e.createElementBlock("div",ce,[e.createVNode(l),e.createElementVNode("div",ue,[e.createElementVNode("div",le,[e.createElementVNode("h1",ie,e.toDisplayString(e.unref(s)("resumes.my_resume")),1),e.createVNode(u,{onUpdate:o})]),e.createElementVNode("div",de,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(a),d=>(e.openBlock(),e.createBlock(i,{key:d.id,class:"resume-item",resume:d,onUpdate:o},null,8,["resume"]))),128))])])])}}}),he=p(me,[["__file","/home/runner/work/oh-cv/oh-cv/site/src/pages/[...locale]/index.vue"]]);export{he as default};

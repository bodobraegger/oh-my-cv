import{i as N,j as E,l as V,m as R,P as h,M as I,n as b,o as y,p as S,_ as B,q as C,f as D,t as f,v as O,w as P,x as F}from"./toast-3a3246a0.js";import{v as e,u as p,_,e as U}from"./app-b66a0cfa.js";import{s as v,w as L,a as M}from"./Header.vue_vue_type_script_setup_true_lang-d5bd8336.js";const T={"text-center":""},q={key:0,"text-xs":"","text-light-c":"","mt-1.5":""},A={"text-xs":"","text-light-c":"","mt-0.5":""},j=e.defineComponent({__name:"ResumeInfo",props:{resume:{}},emits:["update"],setup(s,{emit:n}){const t=s,a=async o=>{await N(t.resume.id,o),n("update")},{t:c}=p(),r=o=>o&&new Date(parseInt(o)).toISOString().substring(0,19).replace("T"," ").replaceAll("-","/"),l=e.computed(()=>r(t.resume.id)),u=e.computed(()=>r(t.resume.update));return(o,i)=>{const d=E;return e.openBlock(),e.createElementBlock("div",T,[e.createVNode(d,{class:"w-53 mx-auto",text:o.resume.name,"on-entered":a},null,8,["text"]),e.unref(u)?(e.openBlock(),e.createElementBlock("div",q,e.toDisplayString(e.unref(c)("resumes.updated"))+e.toDisplayString(e.unref(u)),1)):e.createCommentVNode("",!0),e.createElementVNode("div",A,e.toDisplayString(e.unref(c)("resumes.created"))+e.toDisplayString(e.unref(l)),1)])}}}),w=s=>(e.pushScopeId("data-v-1cc73e55"),s=s(),e.popScopeId(),s),z={class:"resume-options absolute right-3 top-3 space-y-2"},G=w(()=>e.createElementVNode("span",{class:"iconify","data-icon":"ion:duplicate"},null,-1)),H=[G],J=w(()=>e.createElementVNode("span",{class:"iconify","data-icon":"material-symbols:delete-outline-rounded"},null,-1)),K=[J],X=e.defineComponent({__name:"ResumeOptions",props:{resume:{}},emits:["update"],setup(s,{emit:n}){const t=s,a=async()=>{await V(t.resume.id),n("update")},c=async()=>{await R(t.resume.id),n("update")};return(r,l)=>(e.openBlock(),e.createElementBlock("div",z,[e.createElementVNode("button",{onClick:a},H),e.createElementVNode("button",{onClick:c},K)]))}});const Q=_(X,[["__scopeId","data-v-1cc73e55"]]),W={"w-56":"","h-80":""},Y=e.defineComponent({__name:"ResumeItem",props:{resume:{}},emits:["update"],setup(s,{emit:n}){const t=s,{locale:a}=p(),c=h[t.resume.styles.paper].w,r=h[t.resume.styles.paper].h,l=e.ref(),u=async()=>{b(t.resume.css,t.resume.id),await y(t.resume.styles.fontEN),await y(t.resume.styles.fontCJK),S(t.resume.styles,t.resume.id),l.value.forceUpdate()};return e.onMounted(u),e.onUpdated(u),(o,i)=>{const d=B,m=e.resolveComponent("router-link"),g=Q,x=j;return e.openBlock(),e.createElementBlock("div",null,[e.createElementVNode("div",W,[e.createElementVNode("div",{class:"resume-card border border-c",style:e.normalizeStyle({width:`${e.unref(c)}px`,height:`${e.unref(r)}px`})},[e.createVNode(m,{to:{path:("switchPath"in o?o.switchPath:e.unref(v))("edit",e.unref(a)),query:{id:t.resume.id}}},{default:e.withCtx(()=>[e.createVNode(d,{id:o.resume.id,ref_key:"render",ref:l,markdown:o.resume.markdown,styles:o.resume.styles,style:e.normalizeStyle({transform:`scale(${1/e.unref(I)})`}),class:"origin-top-left"},null,8,["id","markdown","styles","style"])]),_:1},8,["to"]),e.createVNode(g,{resume:o.resume,onUpdate:i[0]||(i[0]=$=>n("update"))},null,8,["resume"])],4)]),e.createVNode(x,{resume:o.resume,onUpdate:i[1]||(i[1]=$=>n("update"))},null,8,["resume"])])}}});const Z=_(Y,[["__scopeId","data-v-6f0a3964"]]),ee=s=>(e.pushScopeId("data-v-ec013919"),s=s(),e.popScopeId(),s),te={"w-56":"","h-80":""},se=["aria-label"],ne=ee(()=>e.createElementVNode("span",{class:"iconify w-12 h-12 text-light-c","data-icon":"ic:round-plus"},null,-1)),oe=[ne],ae=e.defineComponent({__name:"NewResume",setup(s){const{t:n,locale:t}=p(),a=U(),c=async()=>{const r=await C();a.push({path:v("edit",t.value),query:{id:r}})};return(r,l)=>(e.openBlock(),e.createElementBlock("div",te,[e.createElementVNode("button",{class:"resume-card w-[210px] h-[299px] flex-center bg-darker-c hover:bg-c","aria-label":e.unref(n)("resumes.new"),onClick:c},oe,8,se)]))}});const ce=_(ae,[["__scopeId","data-v-ec013919"]]),k=s=>(e.pushScopeId("data-v-c44ff52c"),s=s(),e.popScopeId(),s),re={class:"file-options hstack space-x-2"},le=["aria-label"],ue=k(()=>e.createElementVNode("span",{class:"iconify","data-icon":"ic:baseline-save-as"},null,-1)),ie=["aria-label"],de=k(()=>e.createElementVNode("span",{class:"iconify","data-icon":"ic:round-upload-file"},null,-1)),pe=e.defineComponent({__name:"FileOptions",emits:["update"],setup(s){const{t:n}=p();return D("shift+ctrl+s",f),(t,a)=>(e.openBlock(),e.createElementBlock("div",re,[e.createElementVNode("button",{"aria-label":e.unref(n)("resumes.saveas"),onClick:a[0]||(a[0]=(...c)=>e.unref(f)&&e.unref(f)(...c))},[ue,e.createElementVNode("span",null,e.toDisplayString(e.unref(n)("resumes.saveas")),1)],8,le),e.createElementVNode("button",{"aria-label":e.unref(n)("resumes.import"),onClick:a[1]||(a[1]=()=>e.unref(O)(()=>t.$emit("update")))},[de,e.createElementVNode("span",null,e.toDisplayString(e.unref(n)("resumes.import")),1)],8,ie)]))}});const me=_(pe,[["__scopeId","data-v-c44ff52c"]]),_e={class:"resumes-page"},fe={class:"max-w-306 mx-auto px-5 py-16 text-dark-c"},he={class:"space-y-2 md:hstack md:justify-between"},ye={"font-bold":"","text-2xl":"","sm:text-3xl":""},ve={class:"flex flex-wrap gap-x-4 gap-y-8 mt-8"},xe=e.defineComponent({__name:"resumes",props:{lang:{}},setup(s){const n=s,{t}=p(),a=e.ref(),c=async()=>{a.value=await F()};return e.onMounted(c),L(n),P(),(r,l)=>{const u=M,o=me,i=ce,d=Z;return e.openBlock(),e.createElementBlock("div",_e,[e.createVNode(u),e.createElementVNode("div",fe,[e.createElementVNode("div",he,[e.createElementVNode("h1",ye,e.toDisplayString(e.unref(t)("resumes.my_resumes")),1),e.createVNode(o,{onUpdate:c})]),e.createElementVNode("div",ve,[e.createVNode(i),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(a),m=>(e.openBlock(),e.createBlock(d,{key:m.id,class:"resume-item",resume:m,onUpdate:c},null,8,["resume"]))),128))])])])}}});export{xe as default};

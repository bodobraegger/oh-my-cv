import{r as b,n as E,t as N,v as V,P as f,x as v,y as $,z as y,M as R,j as S,l as I,A as _,B,D as C,w as D,p as O,F,q}from"./toast-d3287c5d.js";import{v as e,u as d,_ as m,e as P}from"./app-b88baff6.js";const A={"text-center":""},L={key:0,"text-xs":"","text-light-c":"","mt-1.5":""},M={"text-xs":"","text-light-c":"","mt-0.5":""},U=e.defineComponent({__name:"ResumeInfo",props:{resume:{type:null,required:!0}},emits:["update"],setup(t,{emit:r}){const s=t,a=async o=>{await b(s.resume.id,o),r("update")},{t:n}=d(),u=o=>o&&new Date(parseInt(o)).toISOString().substring(0,19).replace("T"," ").replaceAll("-","/"),c=e.computed(()=>u(s.resume.id)),l=e.computed(()=>u(s.resume.update));return(o,p)=>{const i=E;return e.openBlock(),e.createElementBlock("div",A,[e.createVNode(i,{class:"w-53 mx-auto",text:t.resume.name,"on-entered":a},null,8,["text"]),e.unref(l)?(e.openBlock(),e.createElementBlock("div",L,e.toDisplayString(e.unref(n)("resumes.updated"))+e.toDisplayString(e.unref(l)),1)):e.createCommentVNode("v-if",!0),e.createElementVNode("div",M,e.toDisplayString(e.unref(n)("resumes.created"))+e.toDisplayString(e.unref(c)),1)])}}}),T=m(U,[["__file","/home/runner/work/oh-cv/oh-cv/site/src/components/resumes/ResumeInfo.vue"]]),k=t=>(e.pushScopeId("data-v-2320bd0a"),t=t(),e.popScopeId(),t),z={class:"resume-options absolute right-3 top-3 space-y-2"},j=k(()=>e.createElementVNode("span",{class:"iconify","data-icon":"ion:duplicate"},null,-1)),G=[j],H=k(()=>e.createElementVNode("span",{class:"iconify","data-icon":"material-symbols:delete-outline-rounded"},null,-1)),J=[H],K=e.defineComponent({__name:"ResumeOptions",props:{resume:{type:null,required:!0}},emits:["update"],setup(t,{emit:r}){const s=t,a=async()=>{await N(s.resume.id),r("update")},n=async()=>{await V(s.resume.id),r("update")};return(u,c)=>(e.openBlock(),e.createElementBlock("div",z,[e.createElementVNode("button",{onClick:a},G),e.createElementVNode("button",{onClick:n},J)]))}});const X=m(K,[["__scopeId","data-v-2320bd0a"],["__file","/home/runner/work/oh-cv/oh-cv/site/src/components/resumes/ResumeOptions.vue"]]),Q={"w-56":"","h-80":""},W=e.defineComponent({__name:"ResumeItem",props:{resume:{type:null,required:!0}},emits:["update"],setup(t,{emit:r}){const s=t,{locale:a}=d(),n=f[s.resume.styles.paper].w,u=f[s.resume.styles.paper].h,c=e.ref();return e.onMounted(async()=>{await v(s.resume.styles.fontEN),await v(s.resume.styles.fontCJK),$(s.resume.styles,s.resume.id),c.value.forceUpdate()}),(l,o)=>{const p=S,i=e.resolveComponent("router-link"),x=X,g=T;return e.openBlock(),e.createElementBlock("div",null,[e.createElementVNode("div",Q,[e.createElementVNode("div",{class:"resume-card relative block cursor-pointer mx-auto overflow-hidden rounded-md border border-c duration-150 hover:-translate-y-3 hover:drop-shadow-xl",style:e.normalizeStyle({width:`${e.unref(n)}px`,height:`${e.unref(u)}px`})},[e.createVNode(i,{to:{path:("switchPath"in l?l.switchPath:e.unref(y))("edit",e.unref(a)),query:{id:s.resume.id}}},{default:e.withCtx(()=>[e.createVNode(p,{id:t.resume.id,ref_key:"render",ref:c,content:t.resume.content,styles:t.resume.styles,style:e.normalizeStyle({transform:`scale(${1/e.unref(R)})`}),class:"origin-top-left"},null,8,["id","content","styles","style"])]),_:1},8,["to"]),e.createVNode(x,{resume:t.resume,onUpdate:o[0]||(o[0]=w=>r("update"))},null,8,["resume"])],4)]),e.createVNode(g,{resume:t.resume,onUpdate:o[1]||(o[1]=w=>r("update"))},null,8,["resume"])])}}});const Y=m(W,[["__scopeId","data-v-33941668"],["__file","/home/runner/work/oh-cv/oh-cv/site/src/components/resumes/ResumeItem.vue"]]),h=t=>(e.pushScopeId("data-v-6aeed7b6"),t=t(),e.popScopeId(),t),Z={class:"file-options hstack space-x-2"},ee=h(()=>e.createElementVNode("span",{class:"iconify","data-icon":"material-symbols:note-add-outline-rounded"},null,-1)),te=h(()=>e.createElementVNode("span",{class:"iconify","data-icon":"ic:baseline-save-as"},null,-1)),se=h(()=>e.createElementVNode("span",{class:"iconify","data-icon":"ic:round-upload-file"},null,-1)),ne=e.defineComponent({__name:"FileOptions",emits:["update"],setup(t){const r=P(),{t:s}=d(),{locale:a}=d(),n=async()=>{const u=await C();r.push({path:y("edit",a.value),query:{id:u}})};return I("shift+ctrl+s",_),(u,c)=>(e.openBlock(),e.createElementBlock("div",Z,[e.createElementVNode("button",{class:"text-white bg-blue-500 hover:bg-blue-600 hover:dark:bg-blue-400",onClick:n},[ee,e.createElementVNode("span",null,e.toDisplayString(e.unref(s)("resumes.new")),1)]),e.createElementVNode("button",{class:"border border-dark-c hover:bg-darker-c",onClick:c[0]||(c[0]=(...l)=>e.unref(_)&&e.unref(_)(...l))},[te,e.createElementVNode("span",null,e.toDisplayString(e.unref(s)("resumes.saveas")),1)]),e.createElementVNode("button",{class:"border border-dark-c hover:bg-darker-c",onClick:c[1]||(c[1]=()=>e.unref(B)(()=>u.$emit("update")))},[se,e.createElementVNode("span",null,e.toDisplayString(e.unref(s)("resumes.import")),1)])]))}});const oe=m(ne,[["__scopeId","data-v-6aeed7b6"],["__file","/home/runner/work/oh-cv/oh-cv/site/src/components/resumes/FileOptions.vue"]]),re={class:"resumes-page"},ce={class:"max-w-306 mx-auto px-5 py-16 text-dark-c"},ae={class:"space-y-2 md:hstack md:justify-between"},ue={"font-bold":"","text-2xl":"","sm:text-3xl":""},le={class:"flex flex-wrap gap-x-4 gap-y-8 mt-8"},ie=e.defineComponent({__name:"index",props:{locale:{type:[Array,String],required:!0}},setup(t){const r=t,{t:s}=d(),a=e.ref(),n=async()=>{a.value=await F()};return e.onMounted(n),D(r),O(),(u,c)=>{const l=q,o=oe,p=Y;return e.openBlock(),e.createElementBlock("div",re,[e.createVNode(l),e.createElementVNode("div",ce,[e.createElementVNode("div",ae,[e.createElementVNode("h1",ue,e.toDisplayString(e.unref(s)("resumes.my_resume")),1),e.createVNode(o,{onUpdate:n})]),e.createElementVNode("div",le,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(a),i=>(e.openBlock(),e.createBlock(p,{key:i.id,class:"resume-item",resume:i,onUpdate:n},null,8,["resume"]))),128))])])])}}}),pe=m(ie,[["__file","/home/runner/work/oh-cv/oh-cv/site/src/pages/[...locale]/index.vue"]]);export{pe as default};

import{i as N,j as b,l as E,m as R,P as f,M as V,n as I,o as y,p as S,_ as B,q as C,f as O,t as h,v as D,w as q,x as F}from"./toast-51cdbe24.js";import{v as e,u as d,_ as m,e as P}from"./app-5cd9f890.js";import{s as v,w as U,a as j}from"./Header-363cecd4.js";const L={"text-center":""},M={key:0,"text-xs":"","text-light-c":"","mt-1.5":""},A={"text-xs":"","text-light-c":"","mt-0.5":""},T=e.defineComponent({__name:"ResumeInfo",props:{resume:{type:Object,required:!0}},emits:["update"],setup(s,{emit:o}){const t=s,r=async n=>{await N(t.resume.id,n),o("update")},{t:c}=d(),a=n=>n&&new Date(parseInt(n)).toISOString().substring(0,19).replace("T"," ").replaceAll("-","/"),u=e.computed(()=>a(t.resume.id)),i=e.computed(()=>a(t.resume.update));return(n,l)=>{const p=b;return e.openBlock(),e.createElementBlock("div",L,[e.createVNode(p,{class:"w-53 mx-auto",text:n.resume.name,"on-entered":r},null,8,["text"]),e.unref(i)?(e.openBlock(),e.createElementBlock("div",M,e.toDisplayString(e.unref(c)("resumes.updated"))+e.toDisplayString(e.unref(i)),1)):e.createCommentVNode("v-if",!0),e.createElementVNode("div",A,e.toDisplayString(e.unref(c)("resumes.created"))+e.toDisplayString(e.unref(u)),1)])}}}),z=m(T,[["__file","/home/runner/work/oh-my-cv/oh-my-cv/site/src/components/resumes/ResumeInfo.vue"]]),w=s=>(e.pushScopeId("data-v-2320bd0a"),s=s(),e.popScopeId(),s),G={class:"resume-options absolute right-3 top-3 space-y-2"},H=w(()=>e.createElementVNode("span",{class:"iconify","data-icon":"ion:duplicate"},null,-1)),J=[H],K=w(()=>e.createElementVNode("span",{class:"iconify","data-icon":"material-symbols:delete-outline-rounded"},null,-1)),X=[K],Q=e.defineComponent({__name:"ResumeOptions",props:{resume:{type:Object,required:!0}},emits:["update"],setup(s,{emit:o}){const t=s,r=async()=>{await E(t.resume.id),o("update")},c=async()=>{await R(t.resume.id),o("update")};return(a,u)=>(e.openBlock(),e.createElementBlock("div",G,[e.createElementVNode("button",{onClick:r},J),e.createElementVNode("button",{onClick:c},X)]))}});const W=m(Q,[["__scopeId","data-v-2320bd0a"],["__file","/home/runner/work/oh-my-cv/oh-my-cv/site/src/components/resumes/ResumeOptions.vue"]]),Y={"w-56":"","h-80":""},Z=e.defineComponent({__name:"ResumeItem",props:{resume:{type:Object,required:!0}},emits:["update"],setup(s,{emit:o}){const t=s,{locale:r}=d(),c=f[t.resume.styles.paper].w,a=f[t.resume.styles.paper].h,u=e.ref(),i=async()=>{I(t.resume.css,t.resume.id),await y(t.resume.styles.fontEN),await y(t.resume.styles.fontCJK),S(t.resume.styles,t.resume.id),u.value.forceUpdate()};return e.onMounted(i),e.onUpdated(i),(n,l)=>{const p=B,_=e.resolveComponent("router-link"),g=W,$=z;return e.openBlock(),e.createElementBlock("div",null,[e.createElementVNode("div",Y,[e.createElementVNode("div",{class:"resume-card border border-c",style:e.normalizeStyle({width:`${e.unref(c)}px`,height:`${e.unref(a)}px`})},[e.createVNode(_,{to:{path:("switchPath"in n?n.switchPath:e.unref(v))("edit",e.unref(r)),query:{id:t.resume.id}}},{default:e.withCtx(()=>[e.createVNode(p,{id:n.resume.id,ref_key:"render",ref:u,markdown:n.resume.markdown,styles:n.resume.styles,style:e.normalizeStyle({transform:`scale(${1/e.unref(V)})`}),class:"origin-top-left"},null,8,["id","markdown","styles","style"])]),_:1},8,["to"]),e.createVNode(g,{resume:n.resume,onUpdate:l[0]||(l[0]=x=>o("update"))},null,8,["resume"])],4)]),e.createVNode($,{resume:n.resume,onUpdate:l[1]||(l[1]=x=>o("update"))},null,8,["resume"])])}}});const ee=m(Z,[["__scopeId","data-v-33941668"],["__file","/home/runner/work/oh-my-cv/oh-my-cv/site/src/components/resumes/ResumeItem.vue"]]),te=s=>(e.pushScopeId("data-v-0172303e"),s=s(),e.popScopeId(),s),se={"w-56":"","h-80":""},oe=["aria-label"],ne=te(()=>e.createElementVNode("span",{class:"iconify w-12 h-12 text-light-c","data-icon":"ic:round-plus"},null,-1)),re=[ne],ce=e.defineComponent({__name:"NewResume",setup(s){const{t:o,locale:t}=d(),r=P(),c=async()=>{const a=await C();r.push({path:v("edit",t.value),query:{id:a}})};return(a,u)=>(e.openBlock(),e.createElementBlock("div",se,[e.createElementVNode("button",{class:"resume-card w-[210px] h-[299px] flex-center bg-darker-c hover:bg-c","aria-label":e.unref(o)("resumes.new"),onClick:c},re,8,oe)]))}});const ae=m(ce,[["__scopeId","data-v-0172303e"],["__file","/home/runner/work/oh-my-cv/oh-my-cv/site/src/components/resumes/NewResume.vue"]]),k=s=>(e.pushScopeId("data-v-6aeed7b6"),s=s(),e.popScopeId(),s),ue={class:"file-options hstack space-x-2"},ie=["aria-label"],le=k(()=>e.createElementVNode("span",{class:"iconify","data-icon":"ic:baseline-save-as"},null,-1)),me=["aria-label"],pe=k(()=>e.createElementVNode("span",{class:"iconify","data-icon":"ic:round-upload-file"},null,-1)),de=e.defineComponent({__name:"FileOptions",emits:["update"],setup(s){const{t:o}=d();return O("shift+ctrl+s",h),(t,r)=>(e.openBlock(),e.createElementBlock("div",ue,[e.createElementVNode("button",{"aria-label":e.unref(o)("resumes.saveas"),onClick:r[0]||(r[0]=(...c)=>e.unref(h)&&e.unref(h)(...c))},[le,e.createElementVNode("span",null,e.toDisplayString(e.unref(o)("resumes.saveas")),1)],8,ie),e.createElementVNode("button",{"aria-label":e.unref(o)("resumes.import"),onClick:r[1]||(r[1]=()=>e.unref(D)(()=>t.$emit("update")))},[pe,e.createElementVNode("span",null,e.toDisplayString(e.unref(o)("resumes.import")),1)],8,me)]))}});const _e=m(de,[["__scopeId","data-v-6aeed7b6"],["__file","/home/runner/work/oh-my-cv/oh-my-cv/site/src/components/resumes/FileOptions.vue"]]),he={class:"resumes-page"},fe={class:"max-w-306 mx-auto px-5 py-16 text-dark-c"},ye={class:"space-y-2 md:hstack md:justify-between"},ve={"font-bold":"","text-2xl":"","sm:text-3xl":""},we={class:"flex flex-wrap gap-x-4 gap-y-8 mt-8"},ke=e.defineComponent({__name:"resumes",props:{locale:{type:[Array,String],required:!0}},setup(s){const o=s,{t}=d(),r=e.ref(),c=async()=>{r.value=await F()};return e.onMounted(c),U(o),q(),(a,u)=>{const i=j,n=_e,l=ae,p=ee;return e.openBlock(),e.createElementBlock("div",he,[e.createVNode(i),e.createElementVNode("div",fe,[e.createElementVNode("div",ye,[e.createElementVNode("h1",ve,e.toDisplayString(e.unref(t)("resumes.my_resumes")),1),e.createVNode(n,{onUpdate:c})]),e.createElementVNode("div",we,[e.createVNode(l),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(r),_=>(e.openBlock(),e.createBlock(p,{key:_.id,class:"resume-item",resume:_,onUpdate:c},null,8,["resume"]))),128))])])])}}}),Ne=m(ke,[["__file","/home/runner/work/oh-my-cv/oh-my-cv/site/src/pages/[...locale]/resumes.vue"]]);export{Ne as default};

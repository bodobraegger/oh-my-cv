import{n as N,o as E,v as b,x as R,P as f,y,M as V,z as I,A as v,B as S,j as B,D as C,l as D,F as h,G as O,w as F,q,H as P,t as U}from"./toast-85fba351.js";import{v as e,u as d,_ as m,e as A}from"./app-298725bc.js";const L={"text-center":""},M={key:0,"text-xs":"","text-light-c":"","mt-1.5":""},T={"text-xs":"","text-light-c":"","mt-0.5":""},z=e.defineComponent({__name:"ResumeInfo",props:{resume:{type:null,required:!0}},emits:["update"],setup(t,{emit:n}){const s=t,o=async a=>{await N(s.resume.id,a),n("update")},{t:c}=d(),r=a=>a&&new Date(parseInt(a)).toISOString().substring(0,19).replace("T"," ").replaceAll("-","/"),u=e.computed(()=>r(s.resume.id)),l=e.computed(()=>r(s.resume.update));return(a,i)=>{const p=E;return e.openBlock(),e.createElementBlock("div",L,[e.createVNode(p,{class:"w-53 mx-auto",text:t.resume.name,"on-entered":o},null,8,["text"]),e.unref(l)?(e.openBlock(),e.createElementBlock("div",M,e.toDisplayString(e.unref(c)("resumes.updated"))+e.toDisplayString(e.unref(l)),1)):e.createCommentVNode("v-if",!0),e.createElementVNode("div",T,e.toDisplayString(e.unref(c)("resumes.created"))+e.toDisplayString(e.unref(u)),1)])}}}),j=m(z,[["__file","/home/runner/work/oh-cv/oh-cv/site/src/components/resumes/ResumeInfo.vue"]]),w=t=>(e.pushScopeId("data-v-2320bd0a"),t=t(),e.popScopeId(),t),G={class:"resume-options absolute right-3 top-3 space-y-2"},H=w(()=>e.createElementVNode("span",{class:"iconify","data-icon":"ion:duplicate"},null,-1)),J=[H],K=w(()=>e.createElementVNode("span",{class:"iconify","data-icon":"material-symbols:delete-outline-rounded"},null,-1)),X=[K],Q=e.defineComponent({__name:"ResumeOptions",props:{resume:{type:null,required:!0}},emits:["update"],setup(t,{emit:n}){const s=t,o=async()=>{await b(s.resume.id),n("update")},c=async()=>{await R(s.resume.id),n("update")};return(r,u)=>(e.openBlock(),e.createElementBlock("div",G,[e.createElementVNode("button",{onClick:o},J),e.createElementVNode("button",{onClick:c},X)]))}});const W=m(Q,[["__scopeId","data-v-2320bd0a"],["__file","/home/runner/work/oh-cv/oh-cv/site/src/components/resumes/ResumeOptions.vue"]]),Y={"w-56":"","h-80":""},Z=e.defineComponent({__name:"ResumeItem",props:{resume:{type:null,required:!0}},emits:["update"],setup(t,{emit:n}){const s=t,{locale:o}=d(),c=f[s.resume.styles.paper].w,r=f[s.resume.styles.paper].h,u=e.ref(),l=async()=>{I(s.resume.css,s.resume.id),await v(s.resume.styles.fontEN),await v(s.resume.styles.fontCJK),S(s.resume.styles,s.resume.id),u.value.forceUpdate()};return e.onMounted(l),e.onUpdated(l),(a,i)=>{const p=B,_=e.resolveComponent("router-link"),k=W,g=j;return e.openBlock(),e.createElementBlock("div",null,[e.createElementVNode("div",Y,[e.createElementVNode("div",{class:"resume-card border border-c",style:e.normalizeStyle({width:`${e.unref(c)}px`,height:`${e.unref(r)}px`})},[e.createVNode(_,{to:{path:("switchPath"in a?a.switchPath:e.unref(y))("edit",e.unref(o)),query:{id:s.resume.id}}},{default:e.withCtx(()=>[e.createVNode(p,{id:t.resume.id,ref_key:"render",ref:u,markdown:t.resume.markdown,styles:t.resume.styles,style:e.normalizeStyle({transform:`scale(${1/e.unref(V)})`}),class:"origin-top-left"},null,8,["id","markdown","styles","style"])]),_:1},8,["to"]),e.createVNode(k,{resume:t.resume,onUpdate:i[0]||(i[0]=$=>n("update"))},null,8,["resume"])],4)]),e.createVNode(g,{resume:t.resume,onUpdate:i[1]||(i[1]=$=>n("update"))},null,8,["resume"])])}}});const ee=m(Z,[["__scopeId","data-v-33941668"],["__file","/home/runner/work/oh-cv/oh-cv/site/src/components/resumes/ResumeItem.vue"]]),te=t=>(e.pushScopeId("data-v-0172303e"),t=t(),e.popScopeId(),t),se={"w-56":"","h-80":""},ne=["aria-label"],oe=te(()=>e.createElementVNode("span",{class:"iconify w-12 h-12 text-light-c","data-icon":"ic:round-plus"},null,-1)),ce=[oe],ae=e.defineComponent({__name:"NewResume",setup(t){const{t:n}=d(),{locale:s}=d(),o=A(),c=async()=>{const r=await C();o.push({path:y("edit",s.value),query:{id:r}})};return(r,u)=>(e.openBlock(),e.createElementBlock("div",se,[e.createElementVNode("button",{class:"resume-card w-[210px] h-[299px] flex-center bg-darker-c hover:bg-c","aria-label":e.unref(n)("resumes.new"),onClick:c},ce,8,ne)]))}});const re=m(ae,[["__scopeId","data-v-0172303e"],["__file","/home/runner/work/oh-cv/oh-cv/site/src/components/resumes/NewResume.vue"]]),x=t=>(e.pushScopeId("data-v-6aeed7b6"),t=t(),e.popScopeId(),t),ue={class:"file-options hstack space-x-2"},le=["aria-label"],ie=x(()=>e.createElementVNode("span",{class:"iconify","data-icon":"ic:baseline-save-as"},null,-1)),de=["aria-label"],me=x(()=>e.createElementVNode("span",{class:"iconify","data-icon":"ic:round-upload-file"},null,-1)),pe=e.defineComponent({__name:"FileOptions",emits:["update"],setup(t){const{t:n}=d();return D("shift+ctrl+s",h),(s,o)=>(e.openBlock(),e.createElementBlock("div",ue,[e.createElementVNode("button",{"aria-label":e.unref(n)("resumes.saveas"),onClick:o[0]||(o[0]=(...c)=>e.unref(h)&&e.unref(h)(...c))},[ie,e.createElementVNode("span",null,e.toDisplayString(e.unref(n)("resumes.saveas")),1)],8,le),e.createElementVNode("button",{"aria-label":e.unref(n)("resumes.import"),onClick:o[1]||(o[1]=()=>e.unref(O)(()=>s.$emit("update")))},[me,e.createElementVNode("span",null,e.toDisplayString(e.unref(n)("resumes.import")),1)],8,de)]))}});const _e=m(pe,[["__scopeId","data-v-6aeed7b6"],["__file","/home/runner/work/oh-cv/oh-cv/site/src/components/resumes/FileOptions.vue"]]),he={class:"resumes-page"},fe={class:"max-w-306 mx-auto px-5 py-16 text-dark-c"},ve={class:"space-y-2 md:hstack md:justify-between"},ye={"font-bold":"","text-2xl":"","sm:text-3xl":""},we={class:"flex flex-wrap gap-x-4 gap-y-8 mt-8"},xe=e.defineComponent({__name:"index",props:{locale:{type:[Array,String],required:!0}},setup(t){const n=t,{t:s}=d(),o=e.ref(),c=async()=>{o.value=await P()};return e.onMounted(c),F(n),q(),(r,u)=>{const l=U,a=_e,i=re,p=ee;return e.openBlock(),e.createElementBlock("div",he,[e.createVNode(l),e.createElementVNode("div",fe,[e.createElementVNode("div",ve,[e.createElementVNode("h1",ye,e.toDisplayString(e.unref(s)("resumes.my_resume")),1),e.createVNode(a,{onUpdate:c})]),e.createElementVNode("div",we,[e.createVNode(i),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(o),_=>(e.openBlock(),e.createBlock(p,{key:_.id,class:"resume-item",resume:_,onUpdate:c},null,8,["resume"]))),128))])])])}}}),$e=m(xe,[["__file","/home/runner/work/oh-cv/oh-cv/site/src/pages/[...locale]/index.vue"]]);export{$e as default};

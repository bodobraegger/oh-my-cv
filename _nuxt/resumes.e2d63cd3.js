import{_ as R,b as D}from"./Header.vue.44398b9e.js";import{b as A,l as $,m as q,n as E,o as V,p as X,r as G,_ as H,P as k,M as j,q as z,t as I,v as J,d as K,w as Q,x as W}from"./toast.a889d58d.js";import{f as v,A as w,o as l,c as d,a as o,b as _,w as y,t as h,h as t,p as b,e as g,M as Y,N as S,x as C,C as Z,r as L,n as T,O as ee,H as O,I as se,G as te,g as oe}from"./entry.df978b35.js";import{_ as x}from"./_plugin-vue_export-helper.c27b6911.js";import{_ as ne}from"./nuxt-link.fb2c2758.js";const M=s=>(b("data-v-040edf7a"),s=s(),g(),s),ae={class:"file-options hstack space-x-2"},ce=["aria-label"],_e=M(()=>o("span",{class:"iconify","data-icon":"ic:baseline-save-as"},null,-1)),ue=["aria-label"],re=M(()=>o("span",{class:"iconify","data-icon":"ic:round-upload-file"},null,-1)),ie=v({__name:"FileOptions",emits:["update"],setup(s){const{t:a}=w();return A("shift+ctrl+s",$),(e,c)=>{const u=R;return l(),d("div",ae,[o("button",{"aria-label":t(a)("resumes.saveas"),onClick:c[0]||(c[0]=(...i)=>("saveResumesToLocal"in e?e.saveResumesToLocal:t($))&&("saveResumesToLocal"in e?e.saveResumesToLocal:t($))(...i))},[_(u,null,{default:y(()=>[_e]),_:1}),o("span",null,h(t(a)("resumes.saveas")),1)],8,ce),o("button",{"aria-label":t(a)("resumes.import"),onClick:c[1]||(c[1]=()=>("importResumesFromLocal"in e?e.importResumesFromLocal:t(q))(()=>e.$emit("update")))},[_(u,null,{default:y(()=>[re]),_:1}),o("span",null,h(t(a)("resumes.import")),1)],8,ue)])}}});const le=x(ie,[["__scopeId","data-v-040edf7a"]]),me=s=>(b("data-v-68a183da"),s=s(),g(),s),de={"w-56":"","h-80":""},pe=["aria-label"],he=me(()=>o("span",{class:"iconify w-12 h-12 text-light-c","data-icon":"ic:round-plus"},null,-1)),fe=v({__name:"NewResume",setup(s){const{t:a,locale:e}=w(),c=Y(),u=async()=>{const i=await E();c.push({path:S("edit",e.value),query:{id:i}})};return(i,m)=>{const r=R;return l(),d("div",de,[o("button",{class:"resume-card w-[210px] h-[299px] flex-center bg-darker-c hover:bg-c","aria-label":t(a)("resumes.new"),onClick:u},[_(r,null,{default:y(()=>[he]),_:1})],8,pe)])}}});const ye=x(fe,[["__scopeId","data-v-68a183da"]]),P=s=>(b("data-v-c0c164e2"),s=s(),g(),s),ve={class:"resume-options absolute right-3 top-3 space-y-2"},we=P(()=>o("span",{class:"iconify","data-icon":"ion:duplicate"},null,-1)),xe=P(()=>o("span",{class:"iconify","data-icon":"material-symbols:delete-outline-rounded"},null,-1)),$e=v({__name:"ResumeOptions",props:{resume:{}},emits:["update"],setup(s,{emit:a}){const e=s,c=async()=>{await V(e.resume.id),a("update")},u=async()=>{await X(e.resume.id),a("update")};return(i,m)=>{const r=R;return l(),d("div",ve,[o("button",{onClick:c},[_(r,null,{default:y(()=>[we]),_:1})]),o("button",{onClick:u},[_(r,null,{default:y(()=>[xe]),_:1})])])}}});const Re=x($e,[["__scopeId","data-v-c0c164e2"]]),be={"text-center":""},ge={key:0,"text-xs":"","text-light-c":"","mt-1.5":""},ke={"text-xs":"","text-light-c":"","mt-0.5":""},Ie=v({__name:"ResumeInfo",props:{resume:{}},emits:["update"],setup(s,{emit:a}){const e=s,c=async n=>{await G(e.resume.id,n),a("update")},{t:u}=w(),i=n=>n&&new Date(parseInt(n)).toISOString().substring(0,19).replace("T"," ").replaceAll("-","/"),m=C(()=>i(e.resume.id)),r=C(()=>i(e.resume.update));return(n,p)=>{const f=H;return l(),d("div",be,[_(f,{class:"w-53 mx-auto",text:n.resume.name,"on-entered":c},null,8,["text"]),t(r)?(l(),d("div",ge,h(t(u)("resumes.updated"))+h(t(r)),1)):Z("",!0),o("div",ke,h(t(u)("resumes.created"))+h(t(m)),1)])}}}),Ce={"w-56":"","h-80":""},Oe=v({__name:"ResumeItem",props:{resume:{}},emits:["update"],setup(s,{emit:a}){const e=s,{locale:c}=w(),u=k[e.resume.styles.paper].w,i=k[e.resume.styles.paper].h,m=L(),r=async()=>{z(e.resume.css,e.resume.id),await I(e.resume.styles.fontEN),await I(e.resume.styles.fontCJK),J(e.resume.styles,e.resume.id),m.value.forceUpdate()};return T(r),ee(r),(n,p)=>{const f=K,F=ne,N=Re,U=Ie;return l(),d("div",null,[o("div",Ce,[o("div",{class:"resume-card border border-c",style:O({width:`${t(u)}px`,height:`${t(i)}px`})},[_(F,{to:{path:("switchPath"in n?n.switchPath:t(S))("edit",t(c)),query:{id:e.resume.id}}},{default:y(()=>[_(f,{id:n.resume.id,ref_key:"render",ref:m,markdown:n.resume.markdown,styles:n.resume.styles,style:O({transform:`scale(${1/("MM_TO_PX"in n?n.MM_TO_PX:t(j))})`}),class:"origin-top-left"},null,8,["id","markdown","styles","style"])]),_:1},8,["to"]),_(N,{resume:n.resume,onUpdate:p[0]||(p[0]=B=>a("update"))},null,8,["resume"])],4)]),_(U,{resume:n.resume,onUpdate:p[1]||(p[1]=B=>a("update"))},null,8,["resume"])])}}});const Se=x(Oe,[["__scopeId","data-v-237f11b9"]]),Le={class:"resumes-page"},Te={class:"max-w-306 mx-auto px-5 py-16 text-dark-c"},Me={class:"space-y-2 md:hstack md:justify-between"},Pe={"font-bold":"","text-2xl":"","sm:text-3xl":""},Fe={class:"flex flex-wrap gap-x-4 gap-y-8 mt-8"},qe=v({__name:"resumes",setup(s){const{t:a}=w(),e=L(),c=async()=>{e.value=await W()};return T(c),Q(),(u,i)=>{const m=D,r=le,n=ye,p=Se;return l(),d("div",Le,[_(m),o("div",Te,[o("div",Me,[o("h1",Pe,h(t(a)("resumes.my_resumes")),1),_(r,{onUpdate:c})]),o("div",Fe,[_(n),(l(!0),d(se,null,te(t(e),f=>(l(),oe(p,{key:f.id,class:"resume-item",resume:f,onUpdate:c},null,8,["resume"]))),128))])])])}}});export{qe as default};

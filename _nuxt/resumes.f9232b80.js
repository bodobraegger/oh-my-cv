import{_ as w,x as B}from"./Header.60e238e2.js";import{b as U,p as $,q as D,t as A,v as V,x as X,r as E,_ as z,P as b,M as J,y as j,z as g,A as q,d as G,w as H,B as K}from"./toast.609c1fcd.js";import{f as y,o as i,c as m,a as n,b as c,w as f,t as p,h as _,p as R,e as x,W as Q,X as W,V as C,x as k,J as Y,r as O,n as S,Y as Z,Q as I,O as ee,P as se,g as te}from"./entry.e417d9bf.js";import{_ as v}from"./_plugin-vue_export-helper.c27b6911.js";import{_ as oe}from"./nuxt-link.7960a52a.js";const L=o=>(R("data-v-e065782d"),o=o(),x(),o),ne={class:"file-options hstack space-x-2"},ae=["aria-label"],ce=L(()=>n("span",{class:"iconify","data-icon":"ic:baseline-save-as"},null,-1)),ue=["aria-label"],_e=L(()=>n("span",{class:"iconify","data-icon":"ic:round-upload-file"},null,-1)),re=y({__name:"FileOptions",emits:["update"],setup(o){return U("shift+ctrl+s",$),(s,e)=>{const u=w;return i(),m("div",ne,[n("button",{"aria-label":s.$t("resumes.saveas"),onClick:e[0]||(e[0]=(...a)=>("saveResumesToLocal"in s?s.saveResumesToLocal:_($))&&("saveResumesToLocal"in s?s.saveResumesToLocal:_($))(...a))},[c(u,null,{default:f(()=>[ce]),_:1}),n("span",null,p(s.$t("resumes.saveas")),1)],8,ae),n("button",{"aria-label":s.$t("resumes.import"),onClick:e[1]||(e[1]=()=>("importResumesFromLocal"in s?s.importResumesFromLocal:_(D))(()=>s.$emit("update")))},[c(u,null,{default:f(()=>[_e]),_:1}),n("span",null,p(s.$t("resumes.import")),1)],8,ue)])}}});const ie=v(re,[["__scopeId","data-v-e065782d"]]),le=o=>(R("data-v-f4c70cc0"),o=o(),x(),o),me={"w-56":"","h-80":""},de=["aria-label"],pe=le(()=>n("span",{class:"iconify w-12 h-12 text-light-c","data-icon":"ic:round-plus"},null,-1)),he=y({__name:"NewResume",setup(o){const{locale:s}=Q(),e=W(),u=async()=>{const a=await A();e.push(C(`edit/${a}`,s.value))};return(a,l)=>{const r=w;return i(),m("div",me,[n("button",{class:"resume-card w-[210px] h-[299px] flex-center bg-darker-c hover:bg-c","aria-label":a.$t("resumes.new"),onClick:u},[c(r,null,{default:f(()=>[pe]),_:1})],8,de)])}}});const fe=v(he,[["__scopeId","data-v-f4c70cc0"]]),P=o=>(R("data-v-c0c164e2"),o=o(),x(),o),ye={class:"resume-options absolute right-3 top-3 space-y-2"},ve=P(()=>n("span",{class:"iconify","data-icon":"ion:duplicate"},null,-1)),$e=P(()=>n("span",{class:"iconify","data-icon":"material-symbols:delete-outline-rounded"},null,-1)),we=y({__name:"ResumeOptions",props:{resume:{}},emits:["update"],setup(o,{emit:s}){const e=o,u=async()=>{await V(e.resume.id),s("update")},a=async()=>{await X(e.resume.id),s("update")};return(l,r)=>{const t=w;return i(),m("div",ye,[n("button",{onClick:u},[c(t,null,{default:f(()=>[ve]),_:1})]),n("button",{onClick:a},[c(t,null,{default:f(()=>[$e]),_:1})])])}}});const Re=v(we,[["__scopeId","data-v-c0c164e2"]]),xe={"text-center":""},be={key:0,"text-xs":"","text-light-c":"","mt-1.5":""},ge={"text-xs":"","text-light-c":"","mt-0.5":""},ke=y({__name:"ResumeInfo",props:{resume:{}},emits:["update"],setup(o,{emit:s}){const e=o,u=async t=>{await E(e.resume.id,t),s("update")},a=t=>t&&new Date(parseInt(t)).toISOString().substring(0,19).replace("T"," ").replaceAll("-","/"),l=k(()=>a(e.resume.id)),r=k(()=>a(e.resume.update));return(t,d)=>{const h=z;return i(),m("div",xe,[c(h,{class:"w-53 mx-auto",text:t.resume.name,"on-entered":u},null,8,["text"]),_(r)?(i(),m("div",be,p(t.$t("resumes.updated"))+p(_(r)),1)):Y("",!0),n("div",ge,p(t.$t("resumes.created"))+p(_(l)),1)])}}}),Ie={"w-56":"","h-80":""},Ce=y({__name:"ResumeItem",props:{resume:{}},emits:["update"],setup(o,{emit:s}){const e=o,u=b[e.resume.styles.paper].w,a=b[e.resume.styles.paper].h,l=O(),r=async()=>{j(e.resume.css,e.resume.id),await g(e.resume.styles.fontEN),await g(e.resume.styles.fontCJK),q(e.resume.styles,e.resume.id),l.value.forceUpdate()};return S(r),Z(r),(t,d)=>{const h=G,T=oe,F=Re,M=ke;return i(),m("div",null,[n("div",Ie,[n("div",{class:"resume-card border border-c",style:I({width:`${_(u)}px`,height:`${_(a)}px`})},[c(T,{to:("switchPath"in t?t.switchPath:_(C))(`edit/${e.resume.id}`,t.$i18n.locale)},{default:f(()=>[c(h,{id:t.resume.id,ref_key:"render",ref:l,markdown:t.resume.markdown,styles:t.resume.styles,style:I({transform:`scale(${1/("MM_TO_PX"in t?t.MM_TO_PX:_(J))})`}),class:"origin-top-left"},null,8,["id","markdown","styles","style"])]),_:1},8,["to"]),c(F,{resume:t.resume,onUpdate:d[0]||(d[0]=N=>s("update"))},null,8,["resume"])],4)]),c(M,{resume:t.resume,onUpdate:d[1]||(d[1]=N=>s("update"))},null,8,["resume"])])}}});const Oe=v(Ce,[["__scopeId","data-v-3c98756b"]]),Se={class:"resumes-page"},Le={class:"max-w-306 mx-auto px-5 py-16 text-dark-c"},Pe={class:"space-y-2 md:hstack md:justify-between"},Te={"font-bold":"","text-2xl":"","sm:text-3xl":""},Fe={class:"flex flex-wrap gap-x-4 gap-y-8 mt-8"},Ae=y({__name:"resumes",setup(o){const s=O(),e=async()=>{s.value=await K()};return S(e),H(),(u,a)=>{const l=B,r=ie,t=fe,d=Oe;return i(),m("div",Se,[c(l),n("div",Le,[n("div",Pe,[n("h1",Te,p(u.$t("resumes.my_resumes")),1),c(r,{onUpdate:e})]),n("div",Fe,[c(t),(i(!0),m(ee,null,se(_(s),h=>(i(),te(d,{key:h.id,class:"resume-item",resume:h,onUpdate:e},null,8,["resume"]))),128))])])])}}});export{Ae as default};

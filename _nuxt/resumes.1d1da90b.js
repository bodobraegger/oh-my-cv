import{_ as R,x as D}from"./Header.vue.28dbbd25.js";import{b as A,p as $,q as X,t as E,v as V,x as z,r as K,_ as j,P as k,M as q,y as G,z as I,A as H,d as J,w as Q,B as W}from"./toast.30729dac.js";import{f as v,I as w,o as l,c as d,a as o,b as _,w as y,t as f,h as t,p as b,e as g,X as Y,W as L,x as C,K as Z,r as O,n as P,Y as ee,R as S,P as se,Q as te,g as oe}from"./entry.47cf952f.js";import{_ as x}from"./_plugin-vue_export-helper.c27b6911.js";import{_ as ne}from"./nuxt-link.e749634b.js";const T=s=>(b("data-v-040edf7a"),s=s(),g(),s),ae={class:"file-options hstack space-x-2"},ce=["aria-label"],_e=T(()=>o("span",{class:"iconify","data-icon":"ic:baseline-save-as"},null,-1)),ue=["aria-label"],re=T(()=>o("span",{class:"iconify","data-icon":"ic:round-upload-file"},null,-1)),ie=v({__name:"FileOptions",emits:["update"],setup(s){const{t:a}=w();return A("shift+ctrl+s",$),(e,c)=>{const u=R;return l(),d("div",ae,[o("button",{"aria-label":t(a)("resumes.saveas"),onClick:c[0]||(c[0]=(...i)=>("saveResumesToLocal"in e?e.saveResumesToLocal:t($))&&("saveResumesToLocal"in e?e.saveResumesToLocal:t($))(...i))},[_(u,null,{default:y(()=>[_e]),_:1}),o("span",null,f(t(a)("resumes.saveas")),1)],8,ce),o("button",{"aria-label":t(a)("resumes.import"),onClick:c[1]||(c[1]=()=>("importResumesFromLocal"in e?e.importResumesFromLocal:t(X))(()=>e.$emit("update")))},[_(u,null,{default:y(()=>[re]),_:1}),o("span",null,f(t(a)("resumes.import")),1)],8,ue)])}}});const le=x(ie,[["__scopeId","data-v-040edf7a"]]),me=s=>(b("data-v-a3fdc91c"),s=s(),g(),s),de={"w-56":"","h-80":""},pe=["aria-label"],fe=me(()=>o("span",{class:"iconify w-12 h-12 text-light-c","data-icon":"ic:round-plus"},null,-1)),he=v({__name:"NewResume",setup(s){const{t:a,locale:e}=w(),c=Y(),u=async()=>{const i=await E();c.push(L(`edit/${i}`,e.value))};return(i,m)=>{const r=R;return l(),d("div",de,[o("button",{class:"resume-card w-[210px] h-[299px] flex-center bg-darker-c hover:bg-c","aria-label":t(a)("resumes.new"),onClick:u},[_(r,null,{default:y(()=>[fe]),_:1})],8,pe)])}}});const ye=x(he,[["__scopeId","data-v-a3fdc91c"]]),F=s=>(b("data-v-c0c164e2"),s=s(),g(),s),ve={class:"resume-options absolute right-3 top-3 space-y-2"},we=F(()=>o("span",{class:"iconify","data-icon":"ion:duplicate"},null,-1)),xe=F(()=>o("span",{class:"iconify","data-icon":"material-symbols:delete-outline-rounded"},null,-1)),$e=v({__name:"ResumeOptions",props:{resume:{}},emits:["update"],setup(s,{emit:a}){const e=s,c=async()=>{await V(e.resume.id),a("update")},u=async()=>{await z(e.resume.id),a("update")};return(i,m)=>{const r=R;return l(),d("div",ve,[o("button",{onClick:c},[_(r,null,{default:y(()=>[we]),_:1})]),o("button",{onClick:u},[_(r,null,{default:y(()=>[xe]),_:1})])])}}});const Re=x($e,[["__scopeId","data-v-c0c164e2"]]),be={"text-center":""},ge={key:0,"text-xs":"","text-light-c":"","mt-1.5":""},ke={"text-xs":"","text-light-c":"","mt-0.5":""},Ie=v({__name:"ResumeInfo",props:{resume:{}},emits:["update"],setup(s,{emit:a}){const e=s,c=async n=>{await K(e.resume.id,n),a("update")},{t:u}=w(),i=n=>n&&new Date(parseInt(n)).toISOString().substring(0,19).replace("T"," ").replaceAll("-","/"),m=C(()=>i(e.resume.id)),r=C(()=>i(e.resume.update));return(n,p)=>{const h=j;return l(),d("div",be,[_(h,{class:"w-53 mx-auto",text:n.resume.name,"on-entered":c},null,8,["text"]),t(r)?(l(),d("div",ge,f(t(u)("resumes.updated"))+f(t(r)),1)):Z("",!0),o("div",ke,f(t(u)("resumes.created"))+f(t(m)),1)])}}}),Ce={"w-56":"","h-80":""},Se=v({__name:"ResumeItem",props:{resume:{}},emits:["update"],setup(s,{emit:a}){const e=s,{locale:c}=w(),u=k[e.resume.styles.paper].w,i=k[e.resume.styles.paper].h,m=O(),r=async()=>{G(e.resume.css,e.resume.id),await I(e.resume.styles.fontEN),await I(e.resume.styles.fontCJK),H(e.resume.styles,e.resume.id),m.value.forceUpdate()};return P(r),ee(r),(n,p)=>{const h=J,M=ne,N=Re,B=Ie;return l(),d("div",null,[o("div",Ce,[o("div",{class:"resume-card border border-c",style:S({width:`${t(u)}px`,height:`${t(i)}px`})},[_(M,{to:("switchPath"in n?n.switchPath:t(L))(`edit/${e.resume.id}`,t(c))},{default:y(()=>[_(h,{id:n.resume.id,ref_key:"render",ref:m,markdown:n.resume.markdown,styles:n.resume.styles,style:S({transform:`scale(${1/("MM_TO_PX"in n?n.MM_TO_PX:t(q))})`}),class:"origin-top-left"},null,8,["id","markdown","styles","style"])]),_:1},8,["to"]),_(N,{resume:n.resume,onUpdate:p[0]||(p[0]=U=>a("update"))},null,8,["resume"])],4)]),_(B,{resume:n.resume,onUpdate:p[1]||(p[1]=U=>a("update"))},null,8,["resume"])])}}});const Le=x(Se,[["__scopeId","data-v-9f70d2c3"]]),Oe={class:"resumes-page"},Pe={class:"max-w-306 mx-auto px-5 py-16 text-dark-c"},Te={class:"space-y-2 md:hstack md:justify-between"},Fe={"font-bold":"","text-2xl":"","sm:text-3xl":""},Me={class:"flex flex-wrap gap-x-4 gap-y-8 mt-8"},Xe=v({__name:"resumes",setup(s){const{t:a}=w(),e=O(),c=async()=>{e.value=await W()};return P(c),Q(),(u,i)=>{const m=D,r=le,n=ye,p=Le;return l(),d("div",Oe,[_(m),o("div",Pe,[o("div",Te,[o("h1",Fe,f(t(a)("resumes.my_resumes")),1),_(r,{onUpdate:c})]),o("div",Me,[_(n),(l(!0),d(se,null,te(t(e),h=>(l(),oe(p,{key:h.id,class:"resume-item",resume:h,onUpdate:c},null,8,["resume"]))),128))])])])}}});export{Xe as default};

import{u as D,r as pe,_ as de,a as T,b as ue,s as me,c as ee,g as te,d as he,e as W,P as fe,T as B,f as _e,C as ge,h as se,E as ne,i as oe,j as ve,k as be,w as xe}from"./toast.d6779988.js";import{f as v,o as g,g as S,h as l,c as w,b as d,w as h,a as c,i as Se,j as M,v as j,k as ke,l as R,_ as G,m as ye,n as K,r as b,q as we,d as ae,s as q,x as k,y as J,p as Pe,e as Ce,t as y,z as X,A as z,B as A,C as I,D as ze,E,F as Me,G as Te,H,I as $e,J as L,K as le,L as je,M as De}from"./entry.7dfa72b7.js";import{_ as P,i as Re,O as Q,f as Ie,u as Ee,d as Oe,a as Ne,b as Ae}from"./Header.vue.459ff0a4.js";import{_ as Le}from"./_plugin-vue_export-helper.c27b6911.js";import"./nuxt-link.98fec305.js";const Fe=v({__name:"RenameResume",setup(t){const{data:e}=D(),s=n=>{e.curResumeName=n,pe(e.curResumeId,n)};return(n,o)=>{const a=de;return g(),S(a,{class:"w-32 sm:w-50 text-sm md:text-base",text:l(e).curResumeName,"on-entered":s},null,8,["text"])}}}),Ve=c("span",{class:"iconify md:text-lg","data-icon":"ic:baseline-save"},null,-1),Be=v({__name:"SaveResume",setup(t){const{data:e}=D(),{styles:s}=T(),n=()=>{const o=e.curResumeId,a=new Date().getTime().toString(),i={name:e.curResumeName,markdown:e.mdContent,css:e.cssContent,styles:Se(s),update:a};me(o,i)};return ue("ctrl+s",n),(o,a)=>{const i=P;return g(),w("button",{class:"round-btn",onClick:n},[d(i,null,{default:h(()=>[Ve]),_:1})])}}}),Ge={"flex-center":""},Ue=c("span",{class:"iconify md:text-lg","data-icon":"tabler:layout-sidebar-right-collapse"},null,-1),We={"flex-center":""},qe=c("span",{class:"iconify md:text-lg","data-icon":"tabler:layout-sidebar-right-expand"},null,-1),Je=v({__name:"ToggleToolbar",props:{isToolbarOpen:{type:Boolean}},emits:["toggleToolbar"],setup(t){return(e,s)=>{const n=P;return g(),w("button",{class:"round-btn",onClick:s[0]||(s[0]=o=>e.$emit("toggleToolbar"))},[M(c("div",Ge,[d(n,null,{default:h(()=>[Ue]),_:1})],512),[[j,e.isToolbarOpen]]),M(c("div",We,[d(n,null,{default:h(()=>[qe]),_:1})],512),[[j,!e.isToolbarOpen]])])}}}),He=async()=>{if(window.monaco)return{monaco:window.monaco};const t=await G(()=>import("./editor.main.99cc1124.js").then(e=>e.e),["./editor.main.99cc1124.js","./entry.7dfa72b7.js","./entry.80cf20e2.css","./editor.febdcaf3.css"],import.meta.url);return window.monaco=t,await(async()=>{const[{default:e},{default:s}]=await Promise.all([G(()=>import("./editor.worker.e0ef4bc0.js"),[],import.meta.url),G(()=>import("./css.worker.62825502.js"),[],import.meta.url)]);window.MonacoEnvironment={getWorker(n,o){switch(o){case"editorWorkerService":return new e;case"css":return new s;default:throw new Error(`Unknown label ${o}`)}}}})(),ye()&&await new Promise(e=>K(e)),{monaco:t}},ie=(t,e,s,n,o)=>{const a=[],i=t.editor.createModel(n,s);return a.push(i),a.push(i.onDidChangeContent(o)),{getModel:()=>i,activate:()=>{e.setModel(i)},dispose:()=>{a.forEach(r=>r.dispose())}}},Ke=async t=>{const e=[],{data:s,setData:n}=D(),{monaco:o}=await He(),a=o.editor.create(t,{wordWrap:"on",fontSize:13,automaticLayout:!0});e.push(a),o.editor.defineTheme("vs-dark-dimmed",{base:"vs-dark",inherit:!0,rules:[],colors:{"editor.background":"#334155","editor.lineHighlightBorder":"#4b5563","dropdown.background":"#4b5563","menu.separatorBackground":"#6b7280"}});const i=ke();o.editor.setTheme(i.preference==="dark"?"vs-dark-dimmed":"vs"),R(()=>i.preference,u=>{o.editor.setTheme(u==="dark"?"vs-dark-dimmed":"vs")});const r=ie(o,a,"markdown",s.mdContent,ee(()=>{n("mdContent",r.getModel().getValue())},200));e.push(r);const p=ie(o,a,"css",s.cssContent,ee(()=>{n("cssContent",p.getModel().getValue())},200));return e.push(p),{editor:a,models:{markdown:r,css:p},dispose:()=>{e.forEach(u=>u.dispose())}}},Xe={class:"pane-container"},Qe={class:"hstack h-9 text-sm md:h-10 md:text-base w-full text-c bg-c border-b border-c px-4 space-x-2"},Ye={class:"absolute w-full h-0.4 bg-blue-500 dark:bg-blue-400 left-0 bottom-0 rounded"},Ze={class:"absolute w-full h-0.4 bg-blue-500 dark:bg-blue-400 left-0 bottom-0 rounded"},et=v({__name:"Editor",setup(t){const e=b();let s;K(async()=>{Re&&e.value&&!s&&(s=await Ke(e.value),r())}),we(()=>s==null?void 0:s.dispose());const{data:n,toggleMdFlag:o,toggleCssFlag:a}=D();R(()=>n.mdFlag,()=>{n.mdFlag&&(s==null||s.models.markdown.getModel().setValue(n.mdContent),o(!1))}),R(()=>n.cssFlag,()=>{n.cssFlag&&(s==null||s.models.css.getModel().setValue(n.cssContent),a(!1))});const i=b(0),r=()=>{s==null||s.models.markdown.activate(),i.value=0},p=()=>{s==null||s.models.css.activate(),i.value=1};return(u,m)=>(g(),w("div",Xe,[c("div",Qe,[c("button",{class:"relative leading-9 md:leading-10 px-2",onClick:r},[ae(" Markdown "),M(c("span",Ye,null,512),[[j,!l(i)]])]),c("button",{class:"relative leading-9 md:leading-10 px-2",onClick:p},[ae(" CSS "),M(c("span",Ze,null,512),[[j,l(i)]])])]),c("div",{ref_key:"editorRef",ref:e,"h-full":""},null,512)]))}});var tt=v({name:"Zoom",props:{scale:{type:Number,required:!0}},setup(t,{slots:e}){const s=b(),n=b(),o=q(s),a=q(n),i=k(()=>Math.max(0,(o.width.value-t.scale*a.width.value)/2));return()=>J("div",{class:"vue-zoom-container",ref:s,style:{height:"100%"}},[J("div",{class:"vue-zoom",ref:n,style:{width:"fit-content",transformOrigin:"top left",transform:`scale(${t.scale})`,marginLeft:`${i.value}px`}},[e.default()])])}});const F=t=>(Pe("data-v-ff9e62ec"),t=t(),Ce(),t),st={class:"pane-container"},nt={class:"zoom-bar hstack fixed bottom-4 lg:bottom-auto lg:top-15 ml-2 shadow-c rounded-full overflow-hidden text-white bg-blue-500 lg:opacity-0 hover:opacity-100"},ot=F(()=>c("span",{class:"iconify","data-icon":"lucide:zoom-in"},null,-1)),at=F(()=>c("span",{class:"iconify","data-icon":"lucide:zoom-out"},null,-1)),it=F(()=>c("span",{class:"iconify","data-icon":"fluent:arrow-autofit-width-20-filled"},null,-1)),ct=F(()=>c("span",{class:"iconify","data-icon":"fluent:arrow-autofit-height-20-filled"},null,-1)),lt=v({__name:"Preview",setup(t){const e=b(1),s=b(),{width:n,height:o}=q(s),{styles:a}=T(),{data:i}=D(),r=()=>{e.value=n.value/te(a.paper,"w")},p=()=>{e.value=o.value/te(a.paper,"h")};return setTimeout(r,0),(u,m)=>{const f=he,_=P;return g(),w("div",st,[d(l(tt),{ref_key:"zoom",ref:s,scale:l(e)},{default:h(()=>[d(f,{id:"preview",markdown:l(i).mdContent,css:l(i).cssContent,styles:l(a)},null,8,["markdown","css","styles"])]),_:1},8,["scale"]),c("div",nt,[c("button",{onClick:m[0]||(m[0]=x=>e.value*=1.1)},[d(_,null,{default:h(()=>[ot]),_:1})]),c("button",{onClick:m[1]||(m[1]=x=>e.value/=1.1)},[d(_,null,{default:h(()=>[at]),_:1})]),c("button",{onClick:r},[d(_,null,{default:h(()=>[it]),_:1})]),c("button",{onClick:p},[d(_,null,{default:h(()=>[ct]),_:1})])])])}}});const rt=Le(lt,[["__scopeId","data-v-ff9e62ec"]]),pt={hstack:"","justify-between":"","h-7":"","pl-4":"","pr-3":"","mt-2":""},dt={hstack:"","font-medium":""},ut=["data-icon"],mt=c("span",{"mx-2":"",text:"sm light-c"},"/",-1),ht={"text-sm":""},ft=c("span",{class:"iconify","data-icon":"ic:baseline-close"},null,-1),_t=v({__name:"PopupPane",props:{text:{},icon:{}},emits:["close"],setup(t){return(e,s)=>{const n=P;return g(),S(l(Q),{class:"!m-auto z-30 fixed bg-c flex flex-col left-0 right-0 top-0 bottom-0 overflow-hidden shadow-c",border:"1 gray-400 dark:gray-500 rounded-md",onTrigger:s[1]||(s[1]=o=>e.$emit("close"))},{default:h(()=>[c("div",pt,[c("div",dt,[d(n,null,{default:h(()=>[c("span",{class:"iconify","data-icon":e.icon},null,8,ut)]),_:1}),mt,c("span",ht,y(e.text),1)]),c("button",{class:"hstack p-1 rounded-full duration-100 hover:bg-dark-c hover:rotate-90",onClick:s[0]||(s[0]=o=>e.$emit("close"))},[d(n,null,{default:h(()=>[ft]),_:1})])]),X(e.$slots,"default")]),_:3})}}}),gt={class:"hstack pt-3 text-sm"},vt={"flex-1":"",hstack:"","px-4":"","bg-dark-c":""},bt={key:0,class:"hstack text-xs space-x-1.5"},xt=c("span",null,"No file choosen",-1),St={key:1,class:"hstack w-full"},kt=["value","onKeyup"],yt=c("span",{class:"iconify","data-icon":"line-md:confirm"},null,-1),wt=v({__name:"ImportPane",emits:["closeImport"],setup(t,{emit:e}){const{t:s}=z(),n=b(0),o=b(""),a=()=>{o.value.trim()!==""&&Ie(o.value).then(r=>{W(r),e("closeImport")})},i=()=>{Ee(r=>{W(r),e("closeImport")},".md")};return(r,p)=>{const u=P,m=_t;return g(),S(m,{class:"h-40 w-full md:w-96",text:l(s)("import.title"),icon:"mdi:upload",onClose:p[3]||(p[3]=f=>e("closeImport"))},{default:h(()=>[c("div",gt,[c("button",{class:A(["px-2 py-0.5",[l(n)===0&&"ml-4 bg-dark-c border-c",l(n)!==0&&"ml-2 border-transparent"]]),border:"l r t rounded-t-sm",onClick:p[0]||(p[0]=f=>n.value=0)},y(l(s)("import.from_local")),3),c("button",{class:A(["px-2 py-0.5",[l(n)===1&&"bg-dark-c border-c",l(n)!==1&&"border-transparent"]]),border:"l r t rounded-t-sm",onClick:p[1]||(p[1]=f=>n.value=1)},y(l(s)("import.from_url")),3)]),c("div",vt,[l(n)===0?(g(),w("div",bt,[c("button",{class:"px-1.5 py-0.5 rounded-[3px] border border-dark-c hover:bg-gray-200 hover:dark:bg-gray-700",onClick:i}," Choose File "),xt])):I("",!0),l(n)===1?(g(),w("div",St,[c("input",{class:"flex-1 h-7 mr-1.5 px-1 text-sm rounded-sm outline-none bg-c",value:l(o),onChange:p[2]||(p[2]=f=>o.value=f.target.value),onKeyup:ze(a,["enter"])},null,40,kt),c("button",{class:"flex-center w-8 h-7 bg-blue-500 hover:bg-blue-600 text-white rounded-sm",onClick:a},[d(u,null,{default:h(()=>[yt]),_:1})])])):I("",!0)])]),_:1},8,["text"])}}}),Pt={class:"tool-item mx-4 mt-5 pb-6",text:"xs md:sm"},Ct={hstack:"","space-x-2":"","mb-4":"",text:"sm md:base"},zt=["data-icon"],$=v({__name:"ToolItem",props:{text:{},icon:{}},setup(t){return(e,s)=>{const n=P;return g(),w("div",Pt,[c("div",Ct,[d(n,null,{default:h(()=>[e.icon?(g(),w("span",{key:0,class:"iconify","data-icon":e.icon},null,8,zt)):I("",!0)]),_:1}),c("span",null,y(e.text),1)]),X(e.$slots,"default")])}}}),Mt=c("span",{class:"iconify text-base","data-icon":"mdi:upload"},null,-1),Tt=c("hr",{"border-dashed":"","border-c":"","my-1":""},null,-1),$t=c("span",{class:"iconify text-base","data-icon":"mdi:file-pdf"},null,-1),jt=c("span",{class:"iconify text-base","data-icon":"ri:markdown-fill"},null,-1),Dt=v({__name:"File",setup(t){const{t:e}=z(),{data:s}=D(),n=k(()=>s.curResumeName.trim().replace(/\s+/g,"_")),o=b(!1),a=p=>{o.value=typeof p=="boolean"?p:!o.value},i=()=>{const p=document.title;document.title=n.value,window.print(),document.title=p},r=()=>{Oe(`${n.value}.md`,s.mdContent)};return(p,u)=>{const m=P,f=wt,_=$;return g(),S(_,{text:l(e)("toolbar.file.text"),icon:"carbon:import-export"},{default:h(()=>[c("li",{class:"dropdown-li space-x-1.5 rounded",onClick:u[0]||(u[0]=x=>a(!0))},[d(m,null,{default:h(()=>[Mt]),_:1}),c("span",null,y(l(e)("toolbar.file.import")),1)]),Tt,c("li",{class:"dropdown-li space-x-1.5 rounded",onClick:i},[d(m,null,{default:h(()=>[$t]),_:1}),c("span",null,y(l(e)("toolbar.file.export_pdf")),1)]),c("li",{class:"dropdown-li space-x-1.5 rounded",onClick:r},[d(m,null,{default:h(()=>[jt]),_:1}),c("span",null,y(l(e)("toolbar.file.export_md")),1)]),l(o)?(g(),S(f,{key:0,onCloseImport:u[1]||(u[1]=x=>a(!1))})):I("",!0)]),_:1},8,["text"])}}}),Rt={"text-light-c":""},It=c("span",{class:"iconify text-lg","data-icon":"ic:sharp-arrow-drop-up"},null,-1),Et=c("span",{class:"iconify text-lg","data-icon":"ic:sharp-arrow-drop-down"},null,-1),re=v({__name:"AutoComplete",props:{items:{},default:{}},emits:["select"],setup(t,{emit:e}){const s=t,n=b(!1),o=b(0),a=b(""),i=b(""),r=()=>{a.value=s.default||s.items[0].text,i.value=a.value};r(),R(()=>s.default,r);const p=m=>{a.value=m,i.value=m,e("select",m)},u=k(()=>o.value>0?s.items.filter(m=>m.text.toLocaleLowerCase().includes(a.value.toLocaleLowerCase())):s.items);return(m,f)=>{const _=P,x=Ne;return g(),S(l(Q),{relative:"",onClick:f[2]||(f[2]=C=>n.value=!0),onTrigger:f[3]||(f[3]=()=>{n.value=!1,o.value=0,a.value=l(i)})},{default:h(()=>[c("div",{class:A(["hstack h-9 space-x-2 px-2 py-1 rounded border",[l(n)&&"border-darker-c",!l(n)&&"border-c"]])},[M(c("input",{"onUpdate:modelValue":f[0]||(f[0]=C=>E(a)?a.value=C:null),class:"w-full rounded outline-none bg-transparent capitalize",onInput:f[1]||(f[1]=C=>o.value++)},null,544),[[Me,l(a)]]),c("div",Rt,[M(c("div",null,[d(_,null,{default:h(()=>[It]),_:1})],512),[[j,l(n)]]),M(c("div",null,[d(_,null,{default:h(()=>[Et]),_:1})],512),[[j,!l(n)]])])],2),M(d(x,{class:"absolute z-20 w-full max-h-60",items:l(u),onSelect:p},null,8,["items"]),[[j,l(n)&&l(u).length>0]])]),_:1})}}}),Ot=v({__name:"Paper",setup(t){const{t:e}=z(),{styles:s,setStyle:n}=T();return(o,a)=>{const i=re,r=$;return g(),S(r,{text:l(e)("toolbar.paper"),icon:"majesticons:paper-fold-line"},{default:h(()=>[d(i,{capitalize:"",items:Object.keys("PAPER"in o?o.PAPER:l(fe)).map(p=>({text:p})),default:l(s).paper,onSelect:a[0]||(a[0]=p=>l(n)("paper",p))},null,8,["items","default"])]),_:1},8,["text"])}}}),Nt={class:"flex justify-between mb-4"},At=["onClick"],Lt={class:"w-full h-full flex-center"},Ft=c("span",{class:"iconify","data-icon":"line-md:confirm"},null,-1),Vt=["value"],Bt=v({__name:"ThemeColor",setup(t){const{t:e}=z(),{styles:s,setStyle:n}=T(),o=b(!1),a=b(-1),i=b(""),r=_=>B.findIndex(x=>x===_),p=()=>{a.value=r(s.themeColor),i.value=s.themeColor};p();const u=k(()=>a.value===-1?i.value:B[a.value]),m=_=>{a.value=_,i.value=u.value},f=_=>{i.value=_.target.value,a.value=r(i.value)};return R(u,()=>n("themeColor",u.value)),R(()=>s.themeColor,p),(_,x)=>{const C=P,V=$;return g(),S(V,{text:l(e)("toolbar.theme_color"),icon:"material-symbols:palette-outline"},{default:h(()=>[c("ul",Nt,[(g(!0),w($e,null,Te("THEME_COLORS"in _?_.THEME_COLORS:l(B),(O,N)=>(g(),w("li",{key:`${N}-color`,class:"w-6 h-6 rounded text-white",style:H({backgroundColor:O}),onClick:Y=>m(N)},[M(c("div",Lt,[d(C,null,{default:h(()=>[Ft]),_:1})],512),[[j,l(a)===N]])],12,At))),128))]),d(l(Q),{class:A(["relative hstack h-9 space-x-2 px-2 py-1 rounded border uppercase",[l(o)&&"border-darker-c",!l(o)&&"border-c"]]),onClick:x[0]||(x[0]=O=>o.value=!0),onTrigger:x[1]||(x[1]=O=>o.value=!1)},{default:h(()=>[c("span",{class:"w-4 h-4 rounded-sm",style:H({backgroundColor:l(u)})},null,4),c("span",null,y(l(i)),1),c("input",{class:"absolute -left-2 w-full h-full opacity-0 cursor-pointer",type:"color",value:l(i),onInput:f},null,40,Vt)]),_:1},8,["class"])]),_:1},8,["text"])}}}),Gt={class:"hstack space-x-2 w-full mb-2"},Ut={"w-13":""},Wt={class:"hstack space-x-2 w-full"},qt={"w-13":""},Jt=v({__name:"FontFamily",setup(t){const{t:e}=z(),{styles:s,setStyle:n}=T(),o=k(()=>ne.map(u=>({text:u.name,function:()=>{var m;return n("fontEN",{name:u.name,fontFamily:((m=ne.find(f=>f.name===u.name))==null?void 0:m.fontFamily)||u.name})}})).concat(i.value)),a=k(()=>oe.map(u=>({text:u.name,function:()=>{var m;return n("fontCJK",{name:u.name,fontFamily:((m=oe.find(f=>f.name===u.name))==null?void 0:m.fontFamily)||u.name})}})).concat(r.value)),i=b([]),r=b([]);return K(async()=>{const{gfonts_en:p,gfonts_cjk:u}=await _e();i.value=p.map(_=>({text:_.family,function:()=>n("fontEN",{name:_.family})})),r.value=u.map(_=>{const x=_.family,C=ge[x]||x;return{text:C,function:()=>n("fontCJK",{name:C,fontFamily:x})}});const m=r.value.filter(_=>se.includes(_.text)),f=r.value.filter(_=>!se.includes(_.text));r.value=m.concat(f)}),(p,u)=>{const m=re,f=$;return g(),S(f,{text:l(e)("toolbar.font_family"),icon:"material-symbols:font-download-outline"},{default:h(()=>[c("div",Gt,[d(m,{"flex-1":"",items:l(a),default:l(s).fontCJK.name},null,8,["items","default"]),c("span",Ut,y(l(e)("toolbar.cn")),1)]),c("div",Wt,[d(m,{"flex-1":"",items:l(o),default:l(s).fontEN.name},null,8,["items","default"]),c("span",qt,y(l(e)("toolbar.en")),1)])]),_:1},8,["text"])}}}),Ht=c("div",{flex:"","justify-between":"","text-light-c":""},[c("span",null,"12px"),c("span",null,"16px"),c("span",null,"20px")],-1),Kt=v({__name:"FontSize",setup(t){const{t:e}=z(),{styles:s,setStyle:n}=T(),o=k({get:()=>s.fontSize,set:a=>n("fontSize",a)});return(a,i)=>{const r=L("vue-slider"),p=$;return g(),S(p,{text:l(e)("toolbar.font_size"),icon:"ri:font-size-2"},{default:h(()=>[d(r,{modelValue:l(o),"onUpdate:modelValue":i[0]||(i[0]=u=>E(o)?o.value=u:null),min:12,max:20},null,8,["modelValue"]),Ht]),_:1},8,["text"])}}}),Xt={"mb-4":"","text-light-c":""},Qt={hstack:"","space-x-1":"","justify-end":""},Yt=c("span",{class:"iconify","data-icon":"icon-park-outline:margin-one"},null,-1),Zt=c("div",{flex:"","justify-between":""},[c("span",null,"0px"),c("span",null,"50px"),c("span",null,"100px")],-1),es={"text-light-c":""},ts={hstack:"","space-x-1":"","justify-end":""},ss=c("span",{class:"iconify","data-icon":"icon-park-outline:margin"},null,-1),ns=c("div",{flex:"","justify-between":""},[c("span",null,"0px"),c("span",null,"50px"),c("span",null,"100px")],-1),os=v({__name:"Margins",setup(t){const{t:e}=z(),{styles:s,setStyle:n}=T(),o=k({get:()=>s.marginV,set:i=>n("marginV",i)}),a=k({get:()=>s.marginH,set:i=>n("marginH",i)});return(i,r)=>{const p=P,u=L("vue-slider"),m=$;return g(),S(m,{text:l(e)("toolbar.margin"),icon:"radix-icons:margin"},{default:h(()=>[c("div",Xt,[c("div",Qt,[d(p,null,{default:h(()=>[Yt]),_:1}),c("span",null,y(l(e)("toolbar.vertical")),1)]),d(u,{modelValue:l(o),"onUpdate:modelValue":r[0]||(r[0]=f=>E(o)?o.value=f:null)},null,8,["modelValue"]),Zt]),c("div",es,[c("div",ts,[d(p,null,{default:h(()=>[ss]),_:1}),c("span",null,y(l(e)("toolbar.horizontal")),1)]),d(u,{modelValue:l(a),"onUpdate:modelValue":r[1]||(r[1]=f=>E(a)?a.value=f:null)},null,8,["modelValue"]),ns])]),_:1},8,["text"])}}}),as=c("div",{flex:"","justify-between":"","text-light-c":""},[c("span",null,"0px"),c("span",null,"25px"),c("span",null,"50px")],-1),is=v({__name:"ParagraphSpace",setup(t){const{t:e}=z(),{styles:s,setStyle:n}=T(),o=k({get:()=>s.paragraphSpace,set:a=>n("paragraphSpace",a)});return(a,i)=>{const r=L("vue-slider"),p=$;return g(),S(p,{text:l(e)("toolbar.paragraph"),icon:"icon-park-outline:paragraph-break-two"},{default:h(()=>[d(r,{modelValue:l(o),"onUpdate:modelValue":i[0]||(i[0]=u=>E(o)?o.value=u:null),max:50},null,8,["modelValue"]),as]),_:1},8,["text"])}}}),cs=c("div",{flex:"","justify-between":"","text-light-c":""},[c("span",null,"1"),c("span",null,"1.5"),c("span",null,"2")],-1),ls=v({__name:"LineHeight",setup(t){const{t:e}=z(),{styles:s,setStyle:n}=T(),o=k({get:()=>s.lineHeight,set:a=>n("lineHeight",a)});return(a,i)=>{const r=L("vue-slider"),p=$;return g(),S(p,{text:l(e)("toolbar.line"),icon:"ic:round-format-line-spacing"},{default:h(()=>[d(r,{modelValue:l(o),"onUpdate:modelValue":i[0]||(i[0]=u=>E(o)?o.value=u:null),min:1,max:2,interval:.05},null,8,["modelValue"]),cs]),_:1},8,["text"])}}}),rs="ABI",ps="AMD",ds="API",us="AST",ms="BOM",hs="BSD",fs="CDN",_s="CJS",gs="CLI",vs="CNCF",bs="CORS",xs="CPU",Ss="CRUD",ks="CSRF",ys="CSS",ws="CSV",Ps="DB2",Cs="DNS",zs="DOM",Ms="DOS",Ts="ES6",$s="ESM",js="FBI",Ds="FTP",Rs="FTPS",Is="GCC",Es="GCP",Os="GLSL",Ns="GORM",As="GPL",Ls="GPS",Fs="GPU",Vs="GRE",Bs="GUI",Gs="HDMI",Us="HMR",Ws="HTML",qs="HTTP",Js="HTTPS",Hs="IIFE",Ks="IPC",Xs="IPFS",Qs="IPMI",Ys="JDBC",Zs="JDK",en="JIT",tn="JPEG",sn="JPG",nn="JRE",on="JSF",an="JSON",cn="JSONP",ln="JSP",rn="JWT",pn="KCP",dn="KDE",un="KPI",mn="LFU",hn="LLVM",fn="LRU",_n="LTS",gn="MDN",vn="MDX",bn="MVC",xn="MVP",Sn="MVVM",kn="NFT",yn="ODBC",wn="ONT",Pn="ORM",Cn="OSS",zn="PDF",Mn="PDO",Tn="POSIX",$n="PWA",jn="QEMU",Dn="QGIS",Rn="QUIC",In="RFC",En="ROM",On="RPC",Nn="RSS",An="RSS3",Ln="SDK",Fn="SEO",Vn="SIP",Bn="SMTP",Gn="SQL",Un="SRE",Wn="SSG",qn="SSH",Jn="SSO",Hn="SSR",Kn="STP",Xn="SVG",Qn="SVN",Yn="TCP",Zn="TLS",eo="TOML",to="TSC",so="UDP",no="UMD",oo="URI",ao="URL",io="USB",co="VLAN",lo="VNC",ro="VPN",po="VPS",uo="WGSL",mo="WLAN",ho="WSA",fo="WSL",_o="XHTML",go="XML",vo="XSS",bo="YAML",xo={abi:rs,amd:ps,api:ds,ast:us,bom:ms,bsd:hs,cdn:fs,cjs:_s,cli:gs,cncf:vs,cors:bs,cpu:xs,crud:Ss,csrf:ks,css:ys,csv:ws,db2:Ps,dns:Cs,dom:zs,dos:Ms,es6:Ts,esm:$s,fbi:js,ftp:Ds,ftps:Rs,gcc:Is,gcp:Es,glsl:Os,gorm:Ns,gpl:As,gps:Ls,gpu:Fs,gre:Vs,gui:Bs,hdmi:Gs,hmr:Us,html:Ws,http:qs,https:Js,iife:Hs,ipc:Ks,ipfs:Xs,ipmi:Qs,jdbc:Ys,jdk:Zs,jit:en,jpeg:tn,jpg:sn,jre:nn,jsf:on,json:an,jsonp:cn,jsp:ln,jwt:rn,kcp:pn,kde:dn,kpi:un,lfu:mn,llvm:hn,lru:fn,lts:_n,mdn:gn,mdx:vn,mvc:bn,mvp:xn,mvvm:Sn,nft:kn,odbc:yn,ont:wn,orm:Pn,oss:Cn,pdf:zn,pdo:Mn,posix:Tn,pwa:$n,qemu:jn,qgis:Dn,quic:Rn,rfc:In,rom:En,rpc:On,rss:Nn,rss3:An,sdk:Ln,seo:Fn,sip:Vn,smtp:Bn,sql:Gn,sre:Un,ssg:Wn,ssh:qn,sso:Jn,ssr:Hn,stp:Kn,svg:Xn,svn:Qn,tcp:Yn,tls:Zn,toml:eo,tsc:to,udp:so,umd:no,uri:oo,url:ao,usb:io,vlan:co,vnc:lo,vpn:ro,vps:po,wgsl:uo,wlan:mo,wsa:ho,wsl:fo,xhtml:_o,xml:go,xss:vo,yaml:bo},So="Airbnb",ko="AlphaGo",yo="Bitbucket",wo="ByteDance",Po="CircleCI",Co="freeCodeCamp",zo="Gitea",Mo="Gitee",To="GitHub",$o="GitLab",jo="GitOps",Do="Gitpod",Ro="HP",Io="IBM",Eo="jsDelivr",Oo="KFC",No="LeetCode",Ao="LinkedIn",Lo="McDonald",Fo="NVIDIA",Vo="PagerDuty",Bo="Product Hunt",Go="StackBlitz",Uo="STACKIT",Wo="Stack Overflow",qo="V2EX",Jo="YouTube",Ho={airbnb:So,alphago:ko,bitbucket:yo,bytedance:wo,circleci:Po,freecodecamp:Co,gitea:zo,gitee:Mo,github:To,gitlab:$o,gitops:jo,gitpod:Do,hp:Ro,ibm:Io,jsdelivr:Eo,kfc:Oo,leetcode:No,linkedin:Ao,mcdonald:Lo,nvidia:Fo,pagerduty:Vo,producthunt:Bo,stackblitz:Go,stackit:Uo,stackoverflow:Wo,v2ex:qo,youtube:Jo},Ko="AIaaS",Xo="BaaS",Qo="CaaS",Yo="DaaS",Zo="DDoS",ea="DevOps",ta="DevTools",sa="eSIM",na="FaaS",oa="IaaS",aa="IoC",ia="IPsec",ca="mPaaS",la="PaaS",ra="SaaS",pa="Wi-Fi",da="XaaS",ua={aiaas:Ko,baas:Xo,caas:Qo,daas:Yo,ddos:Zo,devops:ea,devtools:ta,esim:sa,faas:na,iaas:oa,ioc:aa,ipsec:ia,mpaas:ca,paas:la,saas:ra,wifi:pa,xaas:da},ma="AirDrop",ha="AirPods",fa="AirTag",_a="HomeKit",ga="HomePod",va="iMac",ba="iPad",xa="iPhone",Sa="iPod",ka="MacBook",ya={airdrop:ma,airpods:ha,airtag:fa,homekit:_a,homepod:ga,imac:va,ipad:ba,iphone:xa,ipod:Sa,macbook:ka,"macbook air":"MacBook Air","macbook pro":"MacBook Pro"},wa="ActionScript",Pa="AdBlock",Ca="AJAX",za="Alipay",Ma="AMap",Ta="AngularJS",$a="AntD",ja="AntDesign",Da="AntDesignVue",Ra="AntV",Ia="Apifox",Ea="AppleScript",Oa="AppleTalk",Na="ArangoDB",Aa="ArcGIS",La="ArcMap",Fa="ArcObjects",Va="Beego",Ba="BitTorrent",Ga="BusyBox",Ua="CentOS",Wa="CesiumJS",qa="ChatGPT",Ja="CityGML",Ha="CityJSON",Ka="CKEditor",Xa="ClashX",Qa="ClickHouse",Ya="CMake",Za="CockroachDB",ei="CocoaPods",ti="CodePen",si="CodeSandbox",ni="CoffeeScript",oi="CommonJS",ai="CompositionAPI",ii="CoreDNS",ci="Dapr",li="Datadog",ri="DataGrip",pi="dBase",di="DefinitelyTyped",ui="DenoDeploy",mi="DigitalOcean",hi="DingTalk",fi="DirectX",_i="Django",gi="DuckDuckGo",vi="DynamoDB",bi="ECharts",xi="ECMAScript",Si="EdgeDB",ki="Egg.js",yi="Elasticsearch",wi="ElementUI",Pi="esbuild",Ci="ESLint",zi="ESXi",Mi="etcd",Ti="FaceTime",$i="FastAPI",ji="FFmpeg",Di="FileZilla",Ri="Firefox",Ii="FreeMarker",Ei="GDNative",Oi="GDScript",Ni="GeForce",Ai="GeoJSON",Li="GeoPackage",Fi="GeoPandas",Vi="GeoServer",Bi="GitBook",Gi="GitKraken",Ui="glTF",Wi="GNOME",qi="GNU",Ji="GnuPG",Hi="GoLand",Ki="GraphQL",Xi="GreenSock",Qi="gRPC",Yi="Hacker News",Zi="HacPai",ec="HBase",tc="HBuilderX",sc="iBook",nc="iCloud",oc="iDRAC",ac="iLO",ic="iMessage",cc="iMovie",lc="imToken",rc="InfluxDB",pc="IntelliJ",dc="iOS",uc="iPadOS",mc="iPhoto",hc="iSCSI",fc="iTerm",_c="iTunes",gc="iWork",vc="JavaScript",bc="JetBrains",xc="jQuery",Sc="JSDoc",kc="JupyterLab",yc="KaTeX",wc="Kubernetes",Pc="LaTeX",Cc="Less",zc="LibreOffice",Mc="LineageOS",Tc="macOS",$c="MariaDB",jc="Markdown",Dc="MarkdownLint",Rc="MATHIEU",Ic="MathJax",Ec="MathML",Oc="MathType",Nc="MATLAB",Ac="MediaWiki",Lc="Memcached",Fc="MessagePack",Vc="MetaMask",Bc="MkDocs",Gc="MLaaS",Uc="MLOps",Wc="MobX",qc="MongoDB",Jc="Mongoose",Hc="MyBatis",Kc="MySQL",Xc="NaiveUI",Qc="Neo4j",Yc="NestJS",Zc="NetBeans",el="NetBIOS",tl="Next.js",sl="NixOS",nl="NocoDB",ol="NoSQL",al="npm",il="NumPy",cl="NuxtJS",ll="OAuth",rl="OBS",pl="OCaml",dl="OneDrive",ul="OneNote",ml="OpenAI",hl="OpenAPI",fl="OpenCV",_l="OpenFaaS",gl="OpenFlow",vl="openGauss",bl="OpenGL",xl="OpenJDK",Sl="OpenLayers",kl="OpenPGP",yl="OpenSea",wl="OpenSSL",Pl="OpenStack",Cl="OpenStreetMap",zl="openSUSE",Ml="OpenVINO",Tl="OpenWrt",$l="OPNsense",jl="PAgP",Dl="PayPal",Rl="Photoshop",Il="PHP",El="PhpStorm",Ol="Pi-hole",Nl="PlanetScale",Al="PostCSS",Ll="PostGIS",Fl="PostgreSQL",Vl="PotPlayer",Bl="PowerPoint",Gl="PowerShell",Ul="PrimeVue",Wl="Protobuf",ql="PyCharm",Jl="PyTorch",Hl="QtScript",Kl="RAII",Xl="RedHat",Ql="RediSearch",Yl="RedisJSON",Zl="ReScript",er="RESTful",tr="RethinkDB",sr="RSSHub",nr="Rust",or="RxDB",ar="RxJS",ir="Sass",cr="SCSS",lr="SegmentFault",rr="SolarWinds",pr="SpatialLite",dr="SpringBoot",ur="SpringCloud",mr="SpringMVC",hr="SQLite",fr="SQLServer",_r="Storybook",gr="Stylus",vr="SurrealDB",br="SvelteKit",xr="TailwindCSS",Sr="TeamViewer",kr="TensorFlow",yr="TestFlight",wr="TeX",Pr="ThreeJS",Cr="TianoCore",zr="TiDB",Mr="TiFlash",Tr="TikTok",$r="TiKV",jr="tRPC",Dr="TSDoc",Rr="TSdx",Ir="Turbopack",Er="Turborepo",Or="TypeORM",Nr="TypeScript",Ar="uniapp",Lr="UniFi",Fr="UNIX",Vr="UnoCSS",Br="UPnP",Gr="Vercel",Ur="VideoLAN",Wr="VIM",qr="VirtualBox",Jr="VitePress",Hr="VividCortex",Kr="VLC",Xr="VMware",Qr="VoIP",Yr="VS Code",Zr="VSCodium",ep="VuePress",tp="VueUse",sp="Vulkan",np="W3C",op="Wasm",ap="watchOS",ip="WebAR",cp="WebAssembly",lp="WebGL",rp="WebGPU",pp="WebKit",dp="webpack",up="WebRTC",mp="WebSocket",hp="WebStorm",fp="WebVR",_p="WebXR",gp="WeChat",vp="WhatsApp",bp="WindiCSS",xp="WireGuard",Sp="WordPress",kp="XMind",yp="XState",wp="YApi",Pp={"1password":"1Password","3dtiles":"3DTiles",actionscript:wa,adblock:Pa,ajax:Ca,alipay:za,amap:Ma,angularjs:Ta,"ant design":"Ant Design","ant design vue":"Ant Design Vue",antd:$a,antdesign:ja,antdesignvue:Da,antv:Ra,apifox:Ia,"app store":"App Store","apple pay":"Apple Pay",applescript:Ea,appletalk:Oa,arangodb:Na,arcgis:Aa,arcmap:La,arcobjects:Fa,beego:Va,bittorrent:Ba,busybox:Ga,centos:Ua,cesiumjs:Wa,chatgpt:qa,citygml:Ja,cityjson:Ha,ckeditor:Ka,clashx:Xa,clickhouse:Qa,cmake:Ya,cockroachdb:Za,cocoapods:ei,codepen:ti,codesandbox:si,coffeescript:ni,commonjs:oi,"composition api":"Composition API",compositionapi:ai,coredns:ii,"css modules":"CSS Modules",dapr:ci,datadog:li,datagrip:ri,dbase:pi,definitelytyped:di,denodeploy:ui,"digital ocean":"DigitalOcean",digitalocean:mi,dingtalk:hi,directx:fi,django:_i,duckduckgo:gi,dynamodb:vi,echarts:bi,ecmascript:xi,edgedb:Si,eggjs:ki,elasticsearch:yi,"element plus":"Element Plus",elementui:wi,esbuild:Pi,eslint:Ci,esxi:zi,etcd:Mi,facetime:Ti,fastapi:$i,ffmpeg:ji,filezilla:Di,firefox:Ri,freemarker:Ii,gdnative:Ei,gdscript:Oi,geforce:Ni,geojson:Ai,geopackage:Li,geopandas:Fi,geoserver:Vi,gitbook:Bi,gitkraken:Gi,gltf:Ui,gnome:Wi,gnu:qi,gnupg:Ji,goland:Hi,"google pay":"Google Pay",graphql:Ki,greensock:Xi,grpc:Qi,hackernews:Yi,hacpai:Zi,hbase:ec,hbuilderx:tc,ibook:sc,icloud:nc,idrac:oc,ilo:ac,imessage:ic,imovie:cc,imtoken:lc,influxdb:rc,intellij:pc,"intellij idea":"IntelliJ IDEA",ios:dc,ipados:uc,iphoto:mc,iscsi:hc,iterm:fc,itunes:_c,iwork:gc,javascript:vc,jetbrains:bc,jquery:xc,jsdoc:Sc,jupyterlab:kc,katex:yc,kubernetes:wc,latex:Pc,less:Cc,libreoffice:zc,"line pay":"LINE Pay",lineageos:Mc,macos:Tc,mariadb:$c,markdown:jc,markdownlint:Dc,mathieu:Rc,mathjax:Ic,mathml:Ec,mathtype:Oc,matlab:Nc,mediawiki:Ac,memcached:Lc,messagepack:Fc,metamask:Vc,mkdocs:Bc,mlaas:Gc,mlops:Uc,mobx:Wc,mongodb:qc,mongoose:Jc,"ms-dos":"MS-DOS",mybatis:Hc,mysql:Kc,"naive ui":"Naive UI",naiveui:Xc,neo4j:Qc,nestjs:Yc,netbeans:Zc,netbios:el,nextjs:tl,nixos:sl,nocodb:nl,"node.js":"Node.js",nosql:ol,"notepad ++":"Notepad++",npm:al,numpy:il,nuxtjs:cl,oauth:ll,obs:rl,ocaml:pl,onedrive:dl,onenote:ul,openai:ml,openapi:hl,opencv:fl,openfaas:_l,openflow:gl,opengauss:vl,opengl:bl,"opengl es":"OpenGL ES",openjdk:xl,openlayers:Sl,openpgp:kl,opensea:yl,openssl:wl,openstack:Pl,openstreetmap:Cl,opensuse:zl,openvino:Ml,openwrt:Tl,opnsense:$l,pagp:jl,paypal:Dl,photoshop:Rl,php:Il,phpstorm:El,pihole:Ol,planetscale:Nl,postcss:Al,postgis:Ll,postgresql:Fl,potplayer:Vl,powerpoint:Bl,powershell:Gl,primevue:Ul,protobuf:Wl,pycharm:ql,pytorch:Jl,qtscript:Hl,raii:Kl,"react native":"React Native",redhat:Xl,redisearch:Ql,redisjson:Yl,rescript:Zl,restful:er,rethinkdb:tr,rsshub:sr,rust:nr,rxdb:or,rxjs:ar,"samsung pay":"Samsung Pay",sass:ir,scss:cr,segmentfault:lr,"socket.io":"Socket.IO",solarwinds:rr,spatiallite:pr,"spir-v":"SPIR-V",springboot:dr,springcloud:ur,springmvc:mr,sqlite:hr,sqlserver:fr,storybook:_r,stylus:gr,"sublime text":"Sublime Text",surrealdb:vr,sveltekit:br,"tailwind css":"Tailwind CSS",tailwindcss:xr,teamviewer:Sr,tensorflow:kr,testflight:yr,tex:wr,threejs:Pr,tianocore:Cr,tidb:zr,tiflash:Mr,tiktok:Tr,tikv:$r,"travis ci":"Travis CI",trpc:jr,tsdoc:Dr,tsdx:Rr,turbopack:Ir,turborepo:Er,typeorm:Or,typescript:Nr,uniapp:Ar,unifi:Lr,unix:Fr,unocss:Vr,upnp:Br,vercel:Gr,videolan:Ur,vim:Wr,virtualbox:qr,"visual studio":"Visual Studio","visual studio code":"Visual Studio Code",vitepress:Jr,vividcortex:Hr,vlc:Kr,vmware:Xr,voip:Qr,"vs code":"VS Code","vs codium":"VSCodium",vscode:Yr,vscodium:Zr,"vue cli":"Vue CLI",vuepress:ep,vueuse:tp,vulkan:sp,w3c:np,wasm:op,watchos:ap,"web assembly":"WebAssembly",webar:ip,webassembly:cp,webgl:lp,webgpu:rp,webkit:pp,webpack:dp,webrtc:up,websocket:mp,webstorm:hp,webvr:fp,webxr:_p,wechat:gp,"wechat pay":"WeChat Pay",whatsapp:vp,"windi css":"Windi CSS",windicss:bp,wireguard:xp,wordpress:Sp,xmind:kp,xstate:yp,yapi:wp};var ce={...xo,...Ho,...ua,...ya,...Pp},Cp=/@correct-case-ignore\s+([^\s]+)/g,zp="[-￿]",Mp=t=>{const e=Object.keys(t);return new RegExp(`\\b(${e.join("|").replace(/\+/g,"\\+")})\\b`,"gi")},Tp=(t,e,s)=>{const n=new RegExp(`${zp}`),o=t.charAt(s-1),a=t.charAt(s+e.length);return n.test(o)||n.test(a)},$p=(t,e=[])=>{const s=e.slice();Array.from(t.matchAll(Cp)).forEach(i=>{const[,r]=i;s.push(...r.split(",").map(p=>p.trim().toLowerCase()).filter(Boolean))});const n=Mp(ce),o=[];return{text:t.replace(n,(i,r,p)=>{if(Tp(t,r,p)||!r.match(/[A-Z]/)||!r.match(/[a-z]/))return i;const u=r.toLowerCase();if(s.includes(u))return i;const m=ce[u];return!m||m===r?i:(o.push({before:i,after:m}),m)}),correctedWords:o.length?o:!1}},jp=(t,e)=>{const s=(e||[]).map(n=>n.trim().toLowerCase());return $p(t,s)};const Dp=["innerHTML"],Rp=c("span",{class:"iconify","data-icon":"carbon:rocket"},null,-1),Ip=v({__name:"CorrectCase",setup(t){const{t:e}=z(),{data:s}=D(),{setToastFlag:n}=ve(),o=async()=>{const a=s.mdContent,i=await jp(a);W(i.text);const r=i.correctedWords?i.correctedWords.length:!0;n("correct",r)};return(a,i)=>{const r=P,p=$;return g(),S(p,{text:l(e)("toolbar.correct_case.text"),icon:"icon-park-outline:check-correct"},{default:h(()=>[c("div",{class:"bg-c lg:bg-dark-c rounded py-2 px-3",innerHTML:l(e)("toolbar.correct_case.desc")},null,8,Dp),c("button",{class:"hstack space-x-1 mt-3 ml-auto px-2 py-1.5 rounded text-white",bg:"blue-500 hover:blue-600 hover:dark:blue-400",onClick:o},[d(r,null,{default:h(()=>[Rp]),_:1}),c("span",null,y(l(e)("toolbar.correct_case.btn")),1)])]),_:1},8,["text"])}}}),Ep={flex:"","text-c":"","h-full":""},Op=v({__name:"Toolbar",setup(t){const e=[{name:"file",icon:"carbon:import-export",component:d(Dt,{id:"toolbar-file"},null)},{name:"paper",icon:"majesticons:paper-fold-line",component:d(Ot,{id:"toolbar-paper"},null)},{name:"theme-color",icon:"material-symbols:palette-outline",component:d(Bt,{id:"toolbar-theme-color"},null)},{name:"font-family",icon:"material-symbols:font-download-outline",component:d(Jt,{id:"toolbar-font-family"},null)},{name:"font-size",icon:"ri:font-size-2",component:d(Kt,{id:"toolbar-font-size"},null)},{name:"margins",icon:"radix-icons:margin",component:d(os,{id:"toolbar-margins"},null)},{name:"paragraph-space",icon:"icon-park-outline:paragraph-break-two",component:d(is,{id:"toolbar-paragraph-space"},null)},{name:"line-height",icon:"ic:round-format-line-spacing",component:d(ls,{id:"toolbar-line-height"},null)},{name:"correct-case",icon:"icon-park-outline:check-correct",component:d(Ip,{id:"toolbar-correct-case"},null)}],s=a=>{const i=document.querySelector("#toolbar"),r=document.querySelector(`#toolbar-${a}`);i.scrollTo({top:r.offsetTop-48-20,behavior:"smooth"})},n=()=>d("div",{class:"pane-container",id:"toolbar"},[e.map(a=>a.component)]),o=()=>d("div",{class:"flex-center flex-col flex-none space-y-1 w-9 md:w-10",border:"l c dashed lg:none"},[e.map(a=>d("button",{class:"round-btn",onClick:()=>s(a.name)},[d(P,null,{default:()=>[d("span",{class:"iconify",text:"sm md:base","data-icon":a.icon},null)]})]))]);return(a,i)=>(g(),w("div",Ep,[d(n),d(o)]))}});const Np=()=>{const{width:t}=le();return k(()=>t.value<=1024)},Ap={name:"splitpanes",emits:["ready","resize","resized","pane-click","pane-maximize","pane-add","pane-remove","splitter-click"],props:{horizontal:{type:Boolean},pushOtherPanes:{type:Boolean,default:!0},dblClickSplitter:{type:Boolean,default:!0},rtl:{type:Boolean,default:!1},firstSplitter:{type:Boolean}},provide(){return{requestUpdate:this.requestUpdate,onPaneAdd:this.onPaneAdd,onPaneRemove:this.onPaneRemove,onPaneClick:this.onPaneClick}},data:()=>({container:null,ready:!1,panes:[],touch:{mouseDown:!1,dragging:!1,activeSplitter:null},splitterTaps:{splitter:null,timeoutId:null}}),computed:{panesCount(){return this.panes.length},indexedPanes(){return this.panes.reduce((t,e)=>(t[e.id]=e)&&t,{})}},methods:{updatePaneComponents(){this.panes.forEach(t=>{t.update&&t.update({[this.horizontal?"height":"width"]:`${this.indexedPanes[t.id].size}%`})})},bindEvents(){document.addEventListener("mousemove",this.onMouseMove,{passive:!1}),document.addEventListener("mouseup",this.onMouseUp),"ontouchstart"in window&&(document.addEventListener("touchmove",this.onMouseMove,{passive:!1}),document.addEventListener("touchend",this.onMouseUp))},unbindEvents(){document.removeEventListener("mousemove",this.onMouseMove,{passive:!1}),document.removeEventListener("mouseup",this.onMouseUp),"ontouchstart"in window&&(document.removeEventListener("touchmove",this.onMouseMove,{passive:!1}),document.removeEventListener("touchend",this.onMouseUp))},onMouseDown(t,e){this.bindEvents(),this.touch.mouseDown=!0,this.touch.activeSplitter=e},onMouseMove(t){this.touch.mouseDown&&(t.preventDefault(),this.touch.dragging=!0,this.calculatePanesSize(this.getCurrentMouseDrag(t)),this.$emit("resize",this.panes.map(e=>({min:e.min,max:e.max,size:e.size}))))},onMouseUp(){this.touch.dragging&&this.$emit("resized",this.panes.map(t=>({min:t.min,max:t.max,size:t.size}))),this.touch.mouseDown=!1,setTimeout(()=>{this.touch.dragging=!1,this.unbindEvents()},100)},onSplitterClick(t,e){"ontouchstart"in window&&(t.preventDefault(),this.dblClickSplitter&&(this.splitterTaps.splitter===e?(clearTimeout(this.splitterTaps.timeoutId),this.splitterTaps.timeoutId=null,this.onSplitterDblClick(t,e),this.splitterTaps.splitter=null):(this.splitterTaps.splitter=e,this.splitterTaps.timeoutId=setTimeout(()=>{this.splitterTaps.splitter=null},500)))),this.touch.dragging||this.$emit("splitter-click",this.panes[e])},onSplitterDblClick(t,e){let s=0;this.panes=this.panes.map((n,o)=>(n.size=o===e?n.max:n.min,o!==e&&(s+=n.min),n)),this.panes[e].size-=s,this.$emit("pane-maximize",this.panes[e]),this.$emit("resized",this.panes.map(n=>({min:n.min,max:n.max,size:n.size})))},onPaneClick(t,e){this.$emit("pane-click",this.indexedPanes[e])},getCurrentMouseDrag(t){const e=this.container.getBoundingClientRect(),{clientX:s,clientY:n}="ontouchstart"in window&&t.touches?t.touches[0]:t;return{x:s-e.left,y:n-e.top}},getCurrentDragPercentage(t){t=t[this.horizontal?"y":"x"];const e=this.container[this.horizontal?"clientHeight":"clientWidth"];return this.rtl&&!this.horizontal&&(t=e-t),t*100/e},calculatePanesSize(t){const e=this.touch.activeSplitter;let s={prevPanesSize:this.sumPrevPanesSize(e),nextPanesSize:this.sumNextPanesSize(e),prevReachedMinPanes:0,nextReachedMinPanes:0};const n=0+(this.pushOtherPanes?0:s.prevPanesSize),o=100-(this.pushOtherPanes?0:s.nextPanesSize),a=Math.max(Math.min(this.getCurrentDragPercentage(t),o),n);let i=[e,e+1],r=this.panes[i[0]]||null,p=this.panes[i[1]]||null;const u=r.max<100&&a>=r.max+s.prevPanesSize,m=p.max<100&&a<=100-(p.max+this.sumNextPanesSize(e+1));if(u||m){u?(r.size=r.max,p.size=Math.max(100-r.max-s.prevPanesSize-s.nextPanesSize,0)):(r.size=Math.max(100-p.max-s.prevPanesSize-this.sumNextPanesSize(e+1),0),p.size=p.max);return}if(this.pushOtherPanes){const f=this.doPushOtherPanes(s,a);if(!f)return;({sums:s,panesToResize:i}=f),r=this.panes[i[0]]||null,p=this.panes[i[1]]||null}r!==null&&(r.size=Math.min(Math.max(a-s.prevPanesSize-s.prevReachedMinPanes,r.min),r.max)),p!==null&&(p.size=Math.min(Math.max(100-a-s.nextPanesSize-s.nextReachedMinPanes,p.min),p.max))},doPushOtherPanes(t,e){const s=this.touch.activeSplitter,n=[s,s+1];return e<t.prevPanesSize+this.panes[n[0]].min&&(n[0]=this.findPrevExpandedPane(s).index,t.prevReachedMinPanes=0,n[0]<s&&this.panes.forEach((o,a)=>{a>n[0]&&a<=s&&(o.size=o.min,t.prevReachedMinPanes+=o.min)}),t.prevPanesSize=this.sumPrevPanesSize(n[0]),n[0]===void 0)?(t.prevReachedMinPanes=0,this.panes[0].size=this.panes[0].min,this.panes.forEach((o,a)=>{a>0&&a<=s&&(o.size=o.min,t.prevReachedMinPanes+=o.min)}),this.panes[n[1]].size=100-t.prevReachedMinPanes-this.panes[0].min-t.prevPanesSize-t.nextPanesSize,null):e>100-t.nextPanesSize-this.panes[n[1]].min&&(n[1]=this.findNextExpandedPane(s).index,t.nextReachedMinPanes=0,n[1]>s+1&&this.panes.forEach((o,a)=>{a>s&&a<n[1]&&(o.size=o.min,t.nextReachedMinPanes+=o.min)}),t.nextPanesSize=this.sumNextPanesSize(n[1]-1),n[1]===void 0)?(t.nextReachedMinPanes=0,this.panes[this.panesCount-1].size=this.panes[this.panesCount-1].min,this.panes.forEach((o,a)=>{a<this.panesCount-1&&a>=s+1&&(o.size=o.min,t.nextReachedMinPanes+=o.min)}),this.panes[n[0]].size=100-t.prevPanesSize-t.nextReachedMinPanes-this.panes[this.panesCount-1].min-t.nextPanesSize,null):{sums:t,panesToResize:n}},sumPrevPanesSize(t){return this.panes.reduce((e,s,n)=>e+(n<t?s.size:0),0)},sumNextPanesSize(t){return this.panes.reduce((e,s,n)=>e+(n>t+1?s.size:0),0)},findPrevExpandedPane(t){return[...this.panes].reverse().find(e=>e.index<t&&e.size>e.min)||{}},findNextExpandedPane(t){return this.panes.find(e=>e.index>t+1&&e.size>e.min)||{}},checkSplitpanesNodes(){Array.from(this.container.children).forEach(t=>{const e=t.classList.contains("splitpanes__pane"),s=t.classList.contains("splitpanes__splitter");!e&&!s&&(t.parentNode.removeChild(t),console.warn("Splitpanes: Only <pane> elements are allowed at the root of <splitpanes>. One of your DOM nodes was removed."))})},addSplitter(t,e,s=!1){const n=t-1,o=document.createElement("div");o.classList.add("splitpanes__splitter"),s||(o.onmousedown=a=>this.onMouseDown(a,n),typeof window<"u"&&"ontouchstart"in window&&(o.ontouchstart=a=>this.onMouseDown(a,n)),o.onclick=a=>this.onSplitterClick(a,n+1)),this.dblClickSplitter&&(o.ondblclick=a=>this.onSplitterDblClick(a,n+1)),e.parentNode.insertBefore(o,e)},removeSplitter(t){t.onmousedown=void 0,t.onclick=void 0,t.ondblclick=void 0,t.parentNode.removeChild(t)},redoSplitters(){const t=Array.from(this.container.children);t.forEach(s=>{s.className.includes("splitpanes__splitter")&&this.removeSplitter(s)});let e=0;t.forEach(s=>{s.className.includes("splitpanes__pane")&&(!e&&this.firstSplitter?this.addSplitter(e,s,!0):e&&this.addSplitter(e,s),e++)})},requestUpdate({target:t,...e}){const s=this.indexedPanes[t._.uid];Object.entries(e).forEach(([n,o])=>s[n]=o)},onPaneAdd(t){let e=-1;Array.from(t.$el.parentNode.children).some(o=>(o.className.includes("splitpanes__pane")&&e++,o===t.$el));const s=parseFloat(t.minSize),n=parseFloat(t.maxSize);this.panes.splice(e,0,{id:t._.uid,index:e,min:isNaN(s)?0:s,max:isNaN(n)?100:n,size:t.size===null?null:parseFloat(t.size),givenSize:t.size,update:t.update}),this.panes.forEach((o,a)=>o.index=a),this.ready&&this.$nextTick(()=>{this.redoSplitters(),this.resetPaneSizes({addedPane:this.panes[e]}),this.$emit("pane-add",{index:e,panes:this.panes.map(o=>({min:o.min,max:o.max,size:o.size}))})})},onPaneRemove(t){const e=this.panes.findIndex(n=>n.id===t._.uid),s=this.panes.splice(e,1)[0];this.panes.forEach((n,o)=>n.index=o),this.$nextTick(()=>{this.redoSplitters(),this.resetPaneSizes({removedPane:{...s,index:e}}),this.$emit("pane-remove",{removed:s,panes:this.panes.map(n=>({min:n.min,max:n.max,size:n.size}))})})},resetPaneSizes(t={}){!t.addedPane&&!t.removedPane?this.initialPanesSizing():this.panes.some(e=>e.givenSize!==null||e.min||e.max<100)?this.equalizeAfterAddOrRemove(t):this.equalize(),this.ready&&this.$emit("resized",this.panes.map(e=>({min:e.min,max:e.max,size:e.size})))},equalize(){const t=100/this.panesCount;let e=0;const s=[],n=[];this.panes.forEach(o=>{o.size=Math.max(Math.min(t,o.max),o.min),e-=o.size,o.size>=o.max&&s.push(o.id),o.size<=o.min&&n.push(o.id)}),e>.1&&this.readjustSizes(e,s,n)},initialPanesSizing(){let t=100;const e=[],s=[];let n=0;this.panes.forEach(a=>{t-=a.size,a.size!==null&&n++,a.size>=a.max&&e.push(a.id),a.size<=a.min&&s.push(a.id)});let o=100;t>.1&&(this.panes.forEach(a=>{a.size===null&&(a.size=Math.max(Math.min(t/(this.panesCount-n),a.max),a.min)),o-=a.size}),o>.1&&this.readjustSizes(t,e,s))},equalizeAfterAddOrRemove({addedPane:t,removedPane:e}={}){let s=100/this.panesCount,n=0;const o=[],a=[];t&&t.givenSize!==null&&(s=(100-t.givenSize)/(this.panesCount-1)),this.panes.forEach(i=>{n-=i.size,i.size>=i.max&&o.push(i.id),i.size<=i.min&&a.push(i.id)}),!(Math.abs(n)<.1)&&(this.panes.forEach(i=>{t&&t.givenSize!==null&&t.id===i.id||(i.size=Math.max(Math.min(s,i.max),i.min)),n-=i.size,i.size>=i.max&&o.push(i.id),i.size<=i.min&&a.push(i.id)}),n>.1&&this.readjustSizes(n,o,a))},readjustSizes(t,e,s){let n;t>0?n=t/(this.panesCount-e.length):n=t/(this.panesCount-s.length),this.panes.forEach((o,a)=>{if(t>0&&!e.includes(o.id)){const i=Math.max(Math.min(o.size+n,o.max),o.min),r=i-o.size;t-=r,o.size=i}else if(!s.includes(o.id)){const i=Math.max(Math.min(o.size+n,o.max),o.min),r=i-o.size;t-=r,o.size=i}o.update({[this.horizontal?"height":"width"]:`${this.indexedPanes[o.id].size}%`})}),Math.abs(t)>.1&&this.$nextTick(()=>{this.ready&&console.warn("Splitpanes: Could not resize panes correctly due to their constraints.")})}},watch:{panes:{deep:!0,immediate:!1,handler(){this.updatePaneComponents()}},horizontal(){this.updatePaneComponents()},firstSplitter(){this.redoSplitters()},dblClickSplitter(t){[...this.container.querySelectorAll(".splitpanes__splitter")].forEach((e,s)=>{e.ondblclick=t?n=>this.onSplitterDblClick(n,s):void 0})}},beforeUnmount(){this.ready=!1},mounted(){this.container=this.$refs.container,this.checkSplitpanesNodes(),this.redoSplitters(),this.resetPaneSizes(),this.$emit("ready"),this.ready=!0},render(){return J("div",{ref:"container",class:["splitpanes",`splitpanes--${this.horizontal?"horizontal":"vertical"}`,{"splitpanes--dragging":this.touch.dragging}]},this.$slots.default())}},Lp=(t,e)=>{const s=t.__vccOpts||t;for(const[n,o]of e)s[n]=o;return s},Fp={name:"pane",inject:["requestUpdate","onPaneAdd","onPaneRemove","onPaneClick"],props:{size:{type:[Number,String],default:null},minSize:{type:[Number,String],default:0},maxSize:{type:[Number,String],default:100}},data:()=>({style:{}}),mounted(){this.onPaneAdd(this)},beforeUnmount(){this.onPaneRemove(this)},methods:{update(t){this.style=t}},computed:{sizeNumber(){return this.size||this.size===0?parseFloat(this.size):null},minSizeNumber(){return parseFloat(this.minSize)},maxSizeNumber(){return parseFloat(this.maxSize)}},watch:{sizeNumber(t){this.requestUpdate({target:this,size:t})},minSizeNumber(t){this.requestUpdate({target:this,min:t})},maxSizeNumber(t){this.requestUpdate({target:this,max:t})}}};function Vp(t,e,s,n,o,a){return g(),w("div",{class:"splitpanes__pane",onClick:e[0]||(e[0]=i=>a.onPaneClick(i,t._.uid)),style:H(t.style)},[X(t.$slots,"default")],4)}const U=Lp(Fp,[["render",Vp]]);const Bp={class:"edit-page"},Kp=v({__name:"edit",setup(t){var m;const e=je(),s=De(),n=(m=e.query.id)==null?void 0:m.toString();(async()=>n&&await be(n)||s.push("/"))();const o=Np(),a=b(!o.value);xe();const{width:i}=le(),r=~~(300/i.value*100),p=k(()=>~~(250/i.value*100)),u=k(()=>~~(350/i.value*100));return(f,_)=>{const x=Fe,C=Be,V=Je,O=Ae,N=et,Y=rt,Z=Op;return g(),w("div",Bp,[d(O,null,{middle:h(()=>[d(x)]),tail:h(()=>[d(C),d(V,{"is-toolbar-open":l(a),onToggleToolbar:_[0]||(_[0]=Gp=>a.value=!l(a))},null,8,["is-toolbar-open"])]),_:1}),d(l(Ap),{class:"workspace default-theme",horizontal:l(o)},{default:h(()=>[d(l(U),{class:"editor-pane px-2 lg:pl-2 lg:pr-1"},{default:h(()=>[d(N)]),_:1}),d(l(U),{class:"preview-pane px-2 pt-1 lg:px-1 lg:pt-0","min-size":"20"},{default:h(()=>[d(Y)]),_:1}),!l(o)&&l(a)?(g(),S(l(U),{key:0,class:"toolbar-pane pl-1",size:r,"min-size":l(p),"max-size":l(u)},{default:h(()=>[d(Z)]),_:1},8,["min-size","max-size"])):I("",!0)]),_:1},8,["horizontal"]),l(o)&&l(a)?(g(),S(Z,{key:0,class:"toolbar-mobile"})):I("",!0)])}}});export{Kp as default};

import{u as D,r as le,_ as re,a as T,b as pe,s as de,c as Y,g as Z,d as ue,e as W,P as me,T as B,f as he,C as fe,h as ee,E as te,i as se,j as _e,k as ge,w as ve}from"./toast.d9b28543.js";import{f as v,o as g,g as S,h as l,c as w,b as d,w as h,a as c,i as be,j as M,v as j,k as xe,l as I,_ as G,m as Se,n as K,r as b,q as ke,d as ne,s as q,x as k,y as J,p as ye,e as we,t as y,z as X,A as z,B as A,C as E,D as Pe,E as O,F as Ce,G as ze,H,I as Me,J as L,K as ie,L as Te}from"./entry.03f13ec5.js";import{_ as P,i as $e,O as Q,f as je,u as De,d as Re,a as Ie,b as Ee}from"./Header.vue.684969e5.js";import{_ as Oe}from"./_plugin-vue_export-helper.c27b6911.js";import"./nuxt-link.103f65b6.js";const Ne=v({__name:"RenameResume",setup(t){const{data:e}=D(),s=n=>{e.curResumeName=n,le(e.curResumeId,n)};return(n,o)=>{const a=re;return g(),S(a,{class:"w-32 sm:w-50 text-sm md:text-base",text:l(e).curResumeName,"on-entered":s},null,8,["text"])}}}),Ae=c("span",{class:"iconify md:text-lg","data-icon":"ic:baseline-save"},null,-1),Le=v({__name:"SaveResume",setup(t){const{data:e}=D(),{styles:s}=T(),n=()=>{const o=e.curResumeId,a=new Date().getTime().toString(),i={name:e.curResumeName,markdown:e.mdContent,css:e.cssContent,styles:be(s),update:a};de(o,i)};return pe("ctrl+s",n),(o,a)=>{const i=P;return g(),w("button",{class:"round-btn",onClick:n},[d(i,null,{default:h(()=>[Ae]),_:1})])}}}),Fe={"flex-center":""},Ve=c("span",{class:"iconify md:text-lg","data-icon":"tabler:layout-sidebar-right-collapse"},null,-1),Be={"flex-center":""},Ge=c("span",{class:"iconify md:text-lg","data-icon":"tabler:layout-sidebar-right-expand"},null,-1),Ue=v({__name:"ToggleToolbar",props:{isToolbarOpen:{type:Boolean}},emits:["toggleToolbar"],setup(t){return(e,s)=>{const n=P;return g(),w("button",{class:"round-btn",onClick:s[0]||(s[0]=o=>e.$emit("toggleToolbar"))},[M(c("div",Fe,[d(n,null,{default:h(()=>[Ve]),_:1})],512),[[j,e.isToolbarOpen]]),M(c("div",Be,[d(n,null,{default:h(()=>[Ge]),_:1})],512),[[j,!e.isToolbarOpen]])])}}}),We=async()=>{if(window.monaco)return{monaco:window.monaco};const t=await G(()=>import("./editor.main.b15797e0.js").then(e=>e.e),["./editor.main.b15797e0.js","./entry.03f13ec5.js","./entry.80cf20e2.css","./editor.febdcaf3.css"],import.meta.url);return window.monaco=t,await(async()=>{const[{default:e},{default:s}]=await Promise.all([G(()=>import("./editor.worker.e0ef4bc0.js"),[],import.meta.url),G(()=>import("./css.worker.62825502.js"),[],import.meta.url)]);window.MonacoEnvironment={getWorker(n,o){switch(o){case"editorWorkerService":return new e;case"css":return new s;default:throw new Error(`Unknown label ${o}`)}}}})(),Se()&&await new Promise(e=>K(e)),{monaco:t}},oe=(t,e,s,n,o)=>{const a=[],i=t.editor.createModel(n,s);return a.push(i),a.push(i.onDidChangeContent(o)),{getModel:()=>i,activate:()=>{e.setModel(i)},dispose:()=>{a.forEach(r=>r.dispose())}}},qe=async t=>{const e=[],{data:s,setData:n}=D(),{monaco:o}=await We(),a=o.editor.create(t,{wordWrap:"on",fontSize:13,automaticLayout:!0});e.push(a),o.editor.defineTheme("vs-dark-dimmed",{base:"vs-dark",inherit:!0,rules:[],colors:{"editor.background":"#334155","editor.lineHighlightBorder":"#4b5563","dropdown.background":"#4b5563","menu.separatorBackground":"#6b7280"}});const i=xe();o.editor.setTheme(i.preference==="dark"?"vs-dark-dimmed":"vs"),I(()=>i.preference,u=>{o.editor.setTheme(u==="dark"?"vs-dark-dimmed":"vs")});const r=oe(o,a,"markdown",s.mdContent,Y(()=>{n("mdContent",r.getModel().getValue())},200));e.push(r);const p=oe(o,a,"css",s.cssContent,Y(()=>{n("cssContent",p.getModel().getValue())},200));return e.push(p),{editor:a,models:{markdown:r,css:p},dispose:()=>{e.forEach(u=>u.dispose())}}},Je={class:"pane-container"},He={class:"hstack h-9 text-sm md:h-10 md:text-base w-full text-c bg-c border-b border-c px-4 space-x-2"},Ke={class:"absolute w-full h-0.4 bg-blue-500 dark:bg-blue-400 left-0 bottom-0 rounded"},Xe={class:"absolute w-full h-0.4 bg-blue-500 dark:bg-blue-400 left-0 bottom-0 rounded"},Qe=v({__name:"Editor",setup(t){const e=b();let s;K(async()=>{$e&&e.value&&!s&&(s=await qe(e.value),r())}),ke(()=>s==null?void 0:s.dispose());const{data:n,toggleMdFlag:o,toggleCssFlag:a}=D();I(()=>n.mdFlag,()=>{n.mdFlag&&(s==null||s.models.markdown.getModel().setValue(n.mdContent),o(!1))}),I(()=>n.cssFlag,()=>{n.cssFlag&&(s==null||s.models.css.getModel().setValue(n.cssContent),a(!1))});const i=b(0),r=()=>{s==null||s.models.markdown.activate(),i.value=0},p=()=>{s==null||s.models.css.activate(),i.value=1};return(u,m)=>(g(),w("div",Je,[c("div",He,[c("button",{class:"relative leading-9 md:leading-10 px-2",onClick:r},[ne(" Markdown "),M(c("span",Ke,null,512),[[j,!l(i)]])]),c("button",{class:"relative leading-9 md:leading-10 px-2",onClick:p},[ne(" CSS "),M(c("span",Xe,null,512),[[j,l(i)]])])]),c("div",{ref_key:"editorRef",ref:e,"h-full":""},null,512)]))}});var Ye=v({name:"Zoom",props:{scale:{type:Number,required:!0}},setup(t,{slots:e}){const s=b(),n=b(),o=q(s),a=q(n),i=k(()=>Math.max(0,(o.width.value-t.scale*a.width.value)/2));return()=>J("div",{class:"vue-zoom-container",ref:s,style:{height:"100%"}},[J("div",{class:"vue-zoom",ref:n,style:{width:"fit-content",transformOrigin:"top left",transform:`scale(${t.scale})`,marginLeft:`${i.value}px`}},[e.default()])])}});const F=t=>(ye("data-v-ff9e62ec"),t=t(),we(),t),Ze={class:"pane-container"},et={class:"zoom-bar hstack fixed bottom-4 lg:bottom-auto lg:top-15 ml-2 shadow-c rounded-full overflow-hidden text-white bg-blue-500 lg:opacity-0 hover:opacity-100"},tt=F(()=>c("span",{class:"iconify","data-icon":"lucide:zoom-in"},null,-1)),st=F(()=>c("span",{class:"iconify","data-icon":"lucide:zoom-out"},null,-1)),nt=F(()=>c("span",{class:"iconify","data-icon":"fluent:arrow-autofit-width-20-filled"},null,-1)),ot=F(()=>c("span",{class:"iconify","data-icon":"fluent:arrow-autofit-height-20-filled"},null,-1)),at=v({__name:"Preview",setup(t){const e=b(1),s=b(),{width:n,height:o}=q(s),{styles:a}=T(),{data:i}=D(),r=()=>{e.value=n.value/Z(a.paper,"w")},p=()=>{e.value=o.value/Z(a.paper,"h")};return setTimeout(r,0),(u,m)=>{const f=ue,_=P;return g(),w("div",Ze,[d(l(Ye),{ref_key:"zoom",ref:s,scale:l(e)},{default:h(()=>[d(f,{id:"preview",markdown:l(i).mdContent,css:l(i).cssContent,styles:l(a)},null,8,["markdown","css","styles"])]),_:1},8,["scale"]),c("div",et,[c("button",{onClick:m[0]||(m[0]=x=>e.value*=1.1)},[d(_,null,{default:h(()=>[tt]),_:1})]),c("button",{onClick:m[1]||(m[1]=x=>e.value/=1.1)},[d(_,null,{default:h(()=>[st]),_:1})]),c("button",{onClick:r},[d(_,null,{default:h(()=>[nt]),_:1})]),c("button",{onClick:p},[d(_,null,{default:h(()=>[ot]),_:1})])])])}}});const it=Oe(at,[["__scopeId","data-v-ff9e62ec"]]),ct={hstack:"","justify-between":"","h-7":"","pl-4":"","pr-3":"","mt-2":""},lt={hstack:"","font-medium":""},rt=["data-icon"],pt=c("span",{"mx-2":"",text:"sm light-c"},"/",-1),dt={"text-sm":""},ut=c("span",{class:"iconify","data-icon":"ic:baseline-close"},null,-1),mt=v({__name:"PopupPane",props:{text:{},icon:{}},emits:["close"],setup(t){return(e,s)=>{const n=P;return g(),S(l(Q),{class:"!m-auto z-30 fixed bg-c flex flex-col left-0 right-0 top-0 bottom-0 overflow-hidden shadow-c",border:"1 gray-400 dark:gray-500 rounded-md",onTrigger:s[1]||(s[1]=o=>e.$emit("close"))},{default:h(()=>[c("div",ct,[c("div",lt,[d(n,null,{default:h(()=>[c("span",{class:"iconify","data-icon":e.icon},null,8,rt)]),_:1}),pt,c("span",dt,y(e.text),1)]),c("button",{class:"hstack p-1 rounded-full duration-100 hover:bg-dark-c hover:rotate-90",onClick:s[0]||(s[0]=o=>e.$emit("close"))},[d(n,null,{default:h(()=>[ut]),_:1})])]),X(e.$slots,"default")]),_:3})}}}),ht={class:"hstack pt-3 text-sm"},ft={"flex-1":"",hstack:"","px-4":"","bg-dark-c":""},_t={key:0,class:"hstack text-xs space-x-1.5"},gt=c("span",null,"No file choosen",-1),vt={key:1,class:"hstack w-full"},bt=["value","onKeyup"],xt=c("span",{class:"iconify","data-icon":"line-md:confirm"},null,-1),St=v({__name:"ImportPane",emits:["closeImport"],setup(t,{emit:e}){const{t:s}=z(),n=b(0),o=b(""),a=()=>{o.value.trim()!==""&&je(o.value).then(r=>{W(r),e("closeImport")})},i=()=>{De(r=>{W(r),e("closeImport")},".md")};return(r,p)=>{const u=P,m=mt;return g(),S(m,{class:"h-40 w-full md:w-96",text:l(s)("import.title"),icon:"mdi:upload",onClose:p[3]||(p[3]=f=>e("closeImport"))},{default:h(()=>[c("div",ht,[c("button",{class:A(["px-2 py-0.5",[l(n)===0&&"ml-4 bg-dark-c border-c",l(n)!==0&&"ml-2 border-transparent"]]),border:"l r t rounded-t-sm",onClick:p[0]||(p[0]=f=>n.value=0)},y(l(s)("import.from_local")),3),c("button",{class:A(["px-2 py-0.5",[l(n)===1&&"bg-dark-c border-c",l(n)!==1&&"border-transparent"]]),border:"l r t rounded-t-sm",onClick:p[1]||(p[1]=f=>n.value=1)},y(l(s)("import.from_url")),3)]),c("div",ft,[l(n)===0?(g(),w("div",_t,[c("button",{class:"px-1.5 py-0.5 rounded-[3px] border border-dark-c hover:bg-gray-200 hover:dark:bg-gray-700",onClick:i}," Choose File "),gt])):E("",!0),l(n)===1?(g(),w("div",vt,[c("input",{class:"flex-1 h-7 mr-1.5 px-1 text-sm rounded-sm outline-none bg-c",value:l(o),onChange:p[2]||(p[2]=f=>o.value=f.target.value),onKeyup:Pe(a,["enter"])},null,40,bt),c("button",{class:"flex-center w-8 h-7 bg-blue-500 hover:bg-blue-600 text-white rounded-sm",onClick:a},[d(u,null,{default:h(()=>[xt]),_:1})])])):E("",!0)])]),_:1},8,["text"])}}}),kt={class:"tool-item mx-4 mt-5 pb-6",text:"xs md:sm"},yt={hstack:"","space-x-2":"","mb-4":"",text:"sm md:base"},wt=["data-icon"],$=v({__name:"ToolItem",props:{text:{},icon:{}},setup(t){return(e,s)=>{const n=P;return g(),w("div",kt,[c("div",yt,[d(n,null,{default:h(()=>[e.icon?(g(),w("span",{key:0,class:"iconify","data-icon":e.icon},null,8,wt)):E("",!0)]),_:1}),c("span",null,y(e.text),1)]),X(e.$slots,"default")])}}}),Pt=c("span",{class:"iconify text-base","data-icon":"mdi:upload"},null,-1),Ct=c("hr",{"border-dashed":"","border-c":"","my-1":""},null,-1),zt=c("span",{class:"iconify text-base","data-icon":"mdi:file-pdf"},null,-1),Mt=c("span",{class:"iconify text-base","data-icon":"ri:markdown-fill"},null,-1),Tt=v({__name:"File",setup(t){const{t:e}=z(),{data:s}=D(),n=k(()=>s.curResumeName.trim().replace(/\s+/g,"_")),o=b(!1),a=p=>{o.value=typeof p=="boolean"?p:!o.value},i=()=>{const p=document.title;document.title=n.value,window.print(),document.title=p},r=()=>{Re(`${n.value}.md`,s.mdContent)};return(p,u)=>{const m=P,f=St,_=$;return g(),S(_,{text:l(e)("toolbar.file.text"),icon:"carbon:import-export"},{default:h(()=>[c("li",{class:"dropdown-li space-x-1.5 rounded",onClick:u[0]||(u[0]=x=>a(!0))},[d(m,null,{default:h(()=>[Pt]),_:1}),c("span",null,y(l(e)("toolbar.file.import")),1)]),Ct,c("li",{class:"dropdown-li space-x-1.5 rounded",onClick:i},[d(m,null,{default:h(()=>[zt]),_:1}),c("span",null,y(l(e)("toolbar.file.export_pdf")),1)]),c("li",{class:"dropdown-li space-x-1.5 rounded",onClick:r},[d(m,null,{default:h(()=>[Mt]),_:1}),c("span",null,y(l(e)("toolbar.file.export_md")),1)]),l(o)?(g(),S(f,{key:0,onCloseImport:u[1]||(u[1]=x=>a(!1))})):E("",!0)]),_:1},8,["text"])}}}),$t={"text-light-c":""},jt=c("span",{class:"iconify text-lg","data-icon":"ic:sharp-arrow-drop-up"},null,-1),Dt=c("span",{class:"iconify text-lg","data-icon":"ic:sharp-arrow-drop-down"},null,-1),ce=v({__name:"AutoComplete",props:{items:{},default:{}},emits:["select"],setup(t,{emit:e}){const s=t,n=b(!1),o=b(0),a=b(""),i=b(""),r=()=>{a.value=s.default||s.items[0].text,i.value=a.value};r(),I(()=>s.default,r);const p=m=>{a.value=m,i.value=m,e("select",m)},u=k(()=>o.value>0?s.items.filter(m=>m.text.toLocaleLowerCase().includes(a.value.toLocaleLowerCase())):s.items);return(m,f)=>{const _=P,x=Ie;return g(),S(l(Q),{relative:"",onClick:f[2]||(f[2]=C=>n.value=!0),onTrigger:f[3]||(f[3]=()=>{n.value=!1,o.value=0,a.value=l(i)})},{default:h(()=>[c("div",{class:A(["hstack h-9 space-x-2 px-2 py-1 rounded border",[l(n)&&"border-darker-c",!l(n)&&"border-c"]])},[M(c("input",{"onUpdate:modelValue":f[0]||(f[0]=C=>O(a)?a.value=C:null),class:"w-full rounded outline-none bg-transparent capitalize",onInput:f[1]||(f[1]=C=>o.value++)},null,544),[[Ce,l(a)]]),c("div",$t,[M(c("div",null,[d(_,null,{default:h(()=>[jt]),_:1})],512),[[j,l(n)]]),M(c("div",null,[d(_,null,{default:h(()=>[Dt]),_:1})],512),[[j,!l(n)]])])],2),M(d(x,{class:"absolute z-20 w-full max-h-60",items:l(u),onSelect:p},null,8,["items"]),[[j,l(n)&&l(u).length>0]])]),_:1})}}}),Rt=v({__name:"Paper",setup(t){const{t:e}=z(),{styles:s,setStyle:n}=T();return(o,a)=>{const i=ce,r=$;return g(),S(r,{text:l(e)("toolbar.paper"),icon:"majesticons:paper-fold-line"},{default:h(()=>[d(i,{capitalize:"",items:Object.keys("PAPER"in o?o.PAPER:l(me)).map(p=>({text:p})),default:l(s).paper,onSelect:a[0]||(a[0]=p=>l(n)("paper",p))},null,8,["items","default"])]),_:1},8,["text"])}}}),It={class:"flex justify-between mb-4"},Et=["onClick"],Ot={class:"w-full h-full flex-center"},Nt=c("span",{class:"iconify","data-icon":"line-md:confirm"},null,-1),At=["value"],Lt=v({__name:"ThemeColor",setup(t){const{t:e}=z(),{styles:s,setStyle:n}=T(),o=b(!1),a=b(-1),i=b(""),r=_=>B.findIndex(x=>x===_),p=()=>{a.value=r(s.themeColor),i.value=s.themeColor};p();const u=k(()=>a.value===-1?i.value:B[a.value]),m=_=>{a.value=_,i.value=u.value},f=_=>{i.value=_.target.value,a.value=r(i.value)};return I(u,()=>n("themeColor",u.value)),I(()=>s.themeColor,p),(_,x)=>{const C=P,V=$;return g(),S(V,{text:l(e)("toolbar.theme_color"),icon:"material-symbols:palette-outline"},{default:h(()=>[c("ul",It,[(g(!0),w(Me,null,ze("THEME_COLORS"in _?_.THEME_COLORS:l(B),(R,N)=>(g(),w("li",{key:`${N}-color`,class:"w-6 h-6 rounded text-white",style:H({backgroundColor:R}),onClick:Fp=>m(N)},[M(c("div",Ot,[d(C,null,{default:h(()=>[Nt]),_:1})],512),[[j,l(a)===N]])],12,Et))),128))]),d(l(Q),{class:A(["relative hstack h-9 space-x-2 px-2 py-1 rounded border uppercase",[l(o)&&"border-darker-c",!l(o)&&"border-c"]]),onClick:x[0]||(x[0]=R=>o.value=!0),onTrigger:x[1]||(x[1]=R=>o.value=!1)},{default:h(()=>[c("span",{class:"w-4 h-4 rounded-sm",style:H({backgroundColor:l(u)})},null,4),c("span",null,y(l(i)),1),c("input",{class:"absolute -left-2 w-full h-full opacity-0 cursor-pointer",type:"color",value:l(i),onInput:f},null,40,At)]),_:1},8,["class"])]),_:1},8,["text"])}}}),Ft={class:"hstack space-x-2 w-full mb-2"},Vt={"w-13":""},Bt={class:"hstack space-x-2 w-full"},Gt={"w-13":""},Ut=v({__name:"FontFamily",setup(t){const{t:e}=z(),{styles:s,setStyle:n}=T(),o=k(()=>te.map(u=>({text:u.name,function:()=>{var m;return n("fontEN",{name:u.name,fontFamily:((m=te.find(f=>f.name===u.name))==null?void 0:m.fontFamily)||u.name})}})).concat(i.value)),a=k(()=>se.map(u=>({text:u.name,function:()=>{var m;return n("fontCJK",{name:u.name,fontFamily:((m=se.find(f=>f.name===u.name))==null?void 0:m.fontFamily)||u.name})}})).concat(r.value)),i=b([]),r=b([]);return K(async()=>{const{gfonts_en:p,gfonts_cjk:u}=await he();i.value=p.map(_=>({text:_.family,function:()=>n("fontEN",{name:_.family})})),r.value=u.map(_=>{const x=_.family,C=fe[x]||x;return{text:C,function:()=>n("fontCJK",{name:C,fontFamily:x})}});const m=r.value.filter(_=>ee.includes(_.text)),f=r.value.filter(_=>!ee.includes(_.text));r.value=m.concat(f)}),(p,u)=>{const m=ce,f=$;return g(),S(f,{text:l(e)("toolbar.font_family"),icon:"material-symbols:font-download-outline"},{default:h(()=>[c("div",Ft,[d(m,{"flex-1":"",items:l(a),default:l(s).fontCJK.name},null,8,["items","default"]),c("span",Vt,y(l(e)("toolbar.cn")),1)]),c("div",Bt,[d(m,{"flex-1":"",items:l(o),default:l(s).fontEN.name},null,8,["items","default"]),c("span",Gt,y(l(e)("toolbar.en")),1)])]),_:1},8,["text"])}}}),Wt=c("div",{flex:"","justify-between":"","text-light-c":""},[c("span",null,"12px"),c("span",null,"16px"),c("span",null,"20px")],-1),qt=v({__name:"FontSize",setup(t){const{t:e}=z(),{styles:s,setStyle:n}=T(),o=k({get:()=>s.fontSize,set:a=>n("fontSize",a)});return(a,i)=>{const r=L("vue-slider"),p=$;return g(),S(p,{text:l(e)("toolbar.font_size"),icon:"ri:font-size-2"},{default:h(()=>[d(r,{modelValue:l(o),"onUpdate:modelValue":i[0]||(i[0]=u=>O(o)?o.value=u:null),min:12,max:20},null,8,["modelValue"]),Wt]),_:1},8,["text"])}}}),Jt={"mb-4":"","text-light-c":""},Ht={hstack:"","space-x-1":"","justify-end":""},Kt=c("span",{class:"iconify","data-icon":"icon-park-outline:margin-one"},null,-1),Xt=c("div",{flex:"","justify-between":""},[c("span",null,"0px"),c("span",null,"50px"),c("span",null,"100px")],-1),Qt={"text-light-c":""},Yt={hstack:"","space-x-1":"","justify-end":""},Zt=c("span",{class:"iconify","data-icon":"icon-park-outline:margin"},null,-1),es=c("div",{flex:"","justify-between":""},[c("span",null,"0px"),c("span",null,"50px"),c("span",null,"100px")],-1),ts=v({__name:"Margins",setup(t){const{t:e}=z(),{styles:s,setStyle:n}=T(),o=k({get:()=>s.marginV,set:i=>n("marginV",i)}),a=k({get:()=>s.marginH,set:i=>n("marginH",i)});return(i,r)=>{const p=P,u=L("vue-slider"),m=$;return g(),S(m,{text:l(e)("toolbar.margin"),icon:"radix-icons:margin"},{default:h(()=>[c("div",Jt,[c("div",Ht,[d(p,null,{default:h(()=>[Kt]),_:1}),c("span",null,y(l(e)("toolbar.vertical")),1)]),d(u,{modelValue:l(o),"onUpdate:modelValue":r[0]||(r[0]=f=>O(o)?o.value=f:null)},null,8,["modelValue"]),Xt]),c("div",Qt,[c("div",Yt,[d(p,null,{default:h(()=>[Zt]),_:1}),c("span",null,y(l(e)("toolbar.horizontal")),1)]),d(u,{modelValue:l(a),"onUpdate:modelValue":r[1]||(r[1]=f=>O(a)?a.value=f:null)},null,8,["modelValue"]),es])]),_:1},8,["text"])}}}),ss=c("div",{flex:"","justify-between":"","text-light-c":""},[c("span",null,"0px"),c("span",null,"25px"),c("span",null,"50px")],-1),ns=v({__name:"ParagraphSpace",setup(t){const{t:e}=z(),{styles:s,setStyle:n}=T(),o=k({get:()=>s.paragraphSpace,set:a=>n("paragraphSpace",a)});return(a,i)=>{const r=L("vue-slider"),p=$;return g(),S(p,{text:l(e)("toolbar.paragraph"),icon:"icon-park-outline:paragraph-break-two"},{default:h(()=>[d(r,{modelValue:l(o),"onUpdate:modelValue":i[0]||(i[0]=u=>O(o)?o.value=u:null),max:50},null,8,["modelValue"]),ss]),_:1},8,["text"])}}}),os=c("div",{flex:"","justify-between":"","text-light-c":""},[c("span",null,"1"),c("span",null,"1.5"),c("span",null,"2")],-1),as=v({__name:"LineHeight",setup(t){const{t:e}=z(),{styles:s,setStyle:n}=T(),o=k({get:()=>s.lineHeight,set:a=>n("lineHeight",a)});return(a,i)=>{const r=L("vue-slider"),p=$;return g(),S(p,{text:l(e)("toolbar.line"),icon:"ic:round-format-line-spacing"},{default:h(()=>[d(r,{modelValue:l(o),"onUpdate:modelValue":i[0]||(i[0]=u=>O(o)?o.value=u:null),min:1,max:2,interval:.05},null,8,["modelValue"]),os]),_:1},8,["text"])}}}),is="ABI",cs="AMD",ls="API",rs="AST",ps="BOM",ds="BSD",us="CDN",ms="CJS",hs="CLI",fs="CNCF",_s="CORS",gs="CPU",vs="CRUD",bs="CSRF",xs="CSS",Ss="CSV",ks="DB2",ys="DNS",ws="DOM",Ps="DOS",Cs="ES6",zs="ESM",Ms="FBI",Ts="FTP",$s="FTPS",js="GCC",Ds="GCP",Rs="GLSL",Is="GORM",Es="GPL",Os="GPS",Ns="GPU",As="GRE",Ls="GUI",Fs="HDMI",Vs="HMR",Bs="HTML",Gs="HTTP",Us="HTTPS",Ws="IIFE",qs="IPC",Js="IPFS",Hs="IPMI",Ks="JDBC",Xs="JDK",Qs="JIT",Ys="JPEG",Zs="JPG",en="JRE",tn="JSF",sn="JSON",nn="JSONP",on="JSP",an="JWT",cn="KCP",ln="KDE",rn="KPI",pn="LFU",dn="LLVM",un="LRU",mn="LTS",hn="MDN",fn="MDX",_n="MVC",gn="MVP",vn="MVVM",bn="NFT",xn="ODBC",Sn="ONT",kn="ORM",yn="OSS",wn="PDF",Pn="PDO",Cn="POSIX",zn="PWA",Mn="QEMU",Tn="QGIS",$n="QUIC",jn="RFC",Dn="ROM",Rn="RPC",In="RSS",En="RSS3",On="SDK",Nn="SEO",An="SIP",Ln="SMTP",Fn="SQL",Vn="SRE",Bn="SSG",Gn="SSH",Un="SSO",Wn="SSR",qn="STP",Jn="SVG",Hn="SVN",Kn="TCP",Xn="TLS",Qn="TOML",Yn="TSC",Zn="UDP",eo="UMD",to="URI",so="URL",no="USB",oo="VLAN",ao="VNC",io="VPN",co="VPS",lo="WGSL",ro="WLAN",po="WSA",uo="WSL",mo="XHTML",ho="XML",fo="XSS",_o="YAML",go={abi:is,amd:cs,api:ls,ast:rs,bom:ps,bsd:ds,cdn:us,cjs:ms,cli:hs,cncf:fs,cors:_s,cpu:gs,crud:vs,csrf:bs,css:xs,csv:Ss,db2:ks,dns:ys,dom:ws,dos:Ps,es6:Cs,esm:zs,fbi:Ms,ftp:Ts,ftps:$s,gcc:js,gcp:Ds,glsl:Rs,gorm:Is,gpl:Es,gps:Os,gpu:Ns,gre:As,gui:Ls,hdmi:Fs,hmr:Vs,html:Bs,http:Gs,https:Us,iife:Ws,ipc:qs,ipfs:Js,ipmi:Hs,jdbc:Ks,jdk:Xs,jit:Qs,jpeg:Ys,jpg:Zs,jre:en,jsf:tn,json:sn,jsonp:nn,jsp:on,jwt:an,kcp:cn,kde:ln,kpi:rn,lfu:pn,llvm:dn,lru:un,lts:mn,mdn:hn,mdx:fn,mvc:_n,mvp:gn,mvvm:vn,nft:bn,odbc:xn,ont:Sn,orm:kn,oss:yn,pdf:wn,pdo:Pn,posix:Cn,pwa:zn,qemu:Mn,qgis:Tn,quic:$n,rfc:jn,rom:Dn,rpc:Rn,rss:In,rss3:En,sdk:On,seo:Nn,sip:An,smtp:Ln,sql:Fn,sre:Vn,ssg:Bn,ssh:Gn,sso:Un,ssr:Wn,stp:qn,svg:Jn,svn:Hn,tcp:Kn,tls:Xn,toml:Qn,tsc:Yn,udp:Zn,umd:eo,uri:to,url:so,usb:no,vlan:oo,vnc:ao,vpn:io,vps:co,wgsl:lo,wlan:ro,wsa:po,wsl:uo,xhtml:mo,xml:ho,xss:fo,yaml:_o},vo="Airbnb",bo="AlphaGo",xo="Bitbucket",So="ByteDance",ko="CircleCI",yo="freeCodeCamp",wo="Gitea",Po="Gitee",Co="GitHub",zo="GitLab",Mo="GitOps",To="Gitpod",$o="HP",jo="IBM",Do="jsDelivr",Ro="KFC",Io="LeetCode",Eo="LinkedIn",Oo="McDonald",No="NVIDIA",Ao="PagerDuty",Lo="Product Hunt",Fo="StackBlitz",Vo="STACKIT",Bo="Stack Overflow",Go="V2EX",Uo="YouTube",Wo={airbnb:vo,alphago:bo,bitbucket:xo,bytedance:So,circleci:ko,freecodecamp:yo,gitea:wo,gitee:Po,github:Co,gitlab:zo,gitops:Mo,gitpod:To,hp:$o,ibm:jo,jsdelivr:Do,kfc:Ro,leetcode:Io,linkedin:Eo,mcdonald:Oo,nvidia:No,pagerduty:Ao,producthunt:Lo,stackblitz:Fo,stackit:Vo,stackoverflow:Bo,v2ex:Go,youtube:Uo},qo="AIaaS",Jo="BaaS",Ho="CaaS",Ko="DaaS",Xo="DDoS",Qo="DevOps",Yo="DevTools",Zo="eSIM",ea="FaaS",ta="IaaS",sa="IoC",na="IPsec",oa="mPaaS",aa="PaaS",ia="SaaS",ca="Wi-Fi",la="XaaS",ra={aiaas:qo,baas:Jo,caas:Ho,daas:Ko,ddos:Xo,devops:Qo,devtools:Yo,esim:Zo,faas:ea,iaas:ta,ioc:sa,ipsec:na,mpaas:oa,paas:aa,saas:ia,wifi:ca,xaas:la},pa="AirDrop",da="AirPods",ua="AirTag",ma="HomeKit",ha="HomePod",fa="iMac",_a="iPad",ga="iPhone",va="iPod",ba="MacBook",xa={airdrop:pa,airpods:da,airtag:ua,homekit:ma,homepod:ha,imac:fa,ipad:_a,iphone:ga,ipod:va,macbook:ba,"macbook air":"MacBook Air","macbook pro":"MacBook Pro"},Sa="ActionScript",ka="AdBlock",ya="AJAX",wa="Alipay",Pa="AMap",Ca="AngularJS",za="AntD",Ma="AntDesign",Ta="AntDesignVue",$a="AntV",ja="Apifox",Da="AppleScript",Ra="AppleTalk",Ia="ArangoDB",Ea="ArcGIS",Oa="ArcMap",Na="ArcObjects",Aa="Beego",La="BitTorrent",Fa="BusyBox",Va="CentOS",Ba="CesiumJS",Ga="ChatGPT",Ua="CityGML",Wa="CityJSON",qa="CKEditor",Ja="ClashX",Ha="ClickHouse",Ka="CMake",Xa="CockroachDB",Qa="CocoaPods",Ya="CodePen",Za="CodeSandbox",ei="CoffeeScript",ti="CommonJS",si="CompositionAPI",ni="CoreDNS",oi="Dapr",ai="Datadog",ii="DataGrip",ci="dBase",li="DefinitelyTyped",ri="DenoDeploy",pi="DigitalOcean",di="DingTalk",ui="DirectX",mi="Django",hi="DuckDuckGo",fi="DynamoDB",_i="ECharts",gi="ECMAScript",vi="EdgeDB",bi="Egg.js",xi="Elasticsearch",Si="ElementUI",ki="esbuild",yi="ESLint",wi="ESXi",Pi="etcd",Ci="FaceTime",zi="FastAPI",Mi="FFmpeg",Ti="FileZilla",$i="Firefox",ji="FreeMarker",Di="GDNative",Ri="GDScript",Ii="GeForce",Ei="GeoJSON",Oi="GeoPackage",Ni="GeoPandas",Ai="GeoServer",Li="GitBook",Fi="GitKraken",Vi="glTF",Bi="GNOME",Gi="GNU",Ui="GnuPG",Wi="GoLand",qi="GraphQL",Ji="GreenSock",Hi="gRPC",Ki="Hacker News",Xi="HacPai",Qi="HBase",Yi="HBuilderX",Zi="iBook",ec="iCloud",tc="iDRAC",sc="iLO",nc="iMessage",oc="iMovie",ac="imToken",ic="InfluxDB",cc="IntelliJ",lc="iOS",rc="iPadOS",pc="iPhoto",dc="iSCSI",uc="iTerm",mc="iTunes",hc="iWork",fc="JavaScript",_c="JetBrains",gc="jQuery",vc="JSDoc",bc="JupyterLab",xc="KaTeX",Sc="Kubernetes",kc="LaTeX",yc="Less",wc="LibreOffice",Pc="LineageOS",Cc="macOS",zc="MariaDB",Mc="Markdown",Tc="MarkdownLint",$c="MATHIEU",jc="MathJax",Dc="MathML",Rc="MathType",Ic="MATLAB",Ec="MediaWiki",Oc="Memcached",Nc="MessagePack",Ac="MetaMask",Lc="MkDocs",Fc="MLaaS",Vc="MLOps",Bc="MobX",Gc="MongoDB",Uc="Mongoose",Wc="MyBatis",qc="MySQL",Jc="NaiveUI",Hc="Neo4j",Kc="NestJS",Xc="NetBeans",Qc="NetBIOS",Yc="Next.js",Zc="NixOS",el="NocoDB",tl="NoSQL",sl="npm",nl="NumPy",ol="NuxtJS",al="OAuth",il="OBS",cl="OCaml",ll="OneDrive",rl="OneNote",pl="OpenAI",dl="OpenAPI",ul="OpenCV",ml="OpenFaaS",hl="OpenFlow",fl="openGauss",_l="OpenGL",gl="OpenJDK",vl="OpenLayers",bl="OpenPGP",xl="OpenSea",Sl="OpenSSL",kl="OpenStack",yl="OpenStreetMap",wl="openSUSE",Pl="OpenVINO",Cl="OpenWrt",zl="OPNsense",Ml="PAgP",Tl="PayPal",$l="Photoshop",jl="PHP",Dl="PhpStorm",Rl="Pi-hole",Il="PlanetScale",El="PostCSS",Ol="PostGIS",Nl="PostgreSQL",Al="PotPlayer",Ll="PowerPoint",Fl="PowerShell",Vl="PrimeVue",Bl="Protobuf",Gl="PyCharm",Ul="PyTorch",Wl="QtScript",ql="RAII",Jl="RedHat",Hl="RediSearch",Kl="RedisJSON",Xl="ReScript",Ql="RESTful",Yl="RethinkDB",Zl="RSSHub",er="Rust",tr="RxDB",sr="RxJS",nr="Sass",or="SCSS",ar="SegmentFault",ir="SolarWinds",cr="SpatialLite",lr="SpringBoot",rr="SpringCloud",pr="SpringMVC",dr="SQLite",ur="SQLServer",mr="Storybook",hr="Stylus",fr="SurrealDB",_r="SvelteKit",gr="TailwindCSS",vr="TeamViewer",br="TensorFlow",xr="TestFlight",Sr="TeX",kr="ThreeJS",yr="TianoCore",wr="TiDB",Pr="TiFlash",Cr="TikTok",zr="TiKV",Mr="tRPC",Tr="TSDoc",$r="TSdx",jr="Turbopack",Dr="Turborepo",Rr="TypeORM",Ir="TypeScript",Er="uniapp",Or="UniFi",Nr="UNIX",Ar="UnoCSS",Lr="UPnP",Fr="Vercel",Vr="VideoLAN",Br="VIM",Gr="VirtualBox",Ur="VitePress",Wr="VividCortex",qr="VLC",Jr="VMware",Hr="VoIP",Kr="VS Code",Xr="VSCodium",Qr="VuePress",Yr="VueUse",Zr="Vulkan",ep="W3C",tp="Wasm",sp="watchOS",np="WebAR",op="WebAssembly",ap="WebGL",ip="WebGPU",cp="WebKit",lp="webpack",rp="WebRTC",pp="WebSocket",dp="WebStorm",up="WebVR",mp="WebXR",hp="WeChat",fp="WhatsApp",_p="WindiCSS",gp="WireGuard",vp="WordPress",bp="XMind",xp="XState",Sp="YApi",kp={"1password":"1Password","3dtiles":"3DTiles",actionscript:Sa,adblock:ka,ajax:ya,alipay:wa,amap:Pa,angularjs:Ca,"ant design":"Ant Design","ant design vue":"Ant Design Vue",antd:za,antdesign:Ma,antdesignvue:Ta,antv:$a,apifox:ja,"app store":"App Store","apple pay":"Apple Pay",applescript:Da,appletalk:Ra,arangodb:Ia,arcgis:Ea,arcmap:Oa,arcobjects:Na,beego:Aa,bittorrent:La,busybox:Fa,centos:Va,cesiumjs:Ba,chatgpt:Ga,citygml:Ua,cityjson:Wa,ckeditor:qa,clashx:Ja,clickhouse:Ha,cmake:Ka,cockroachdb:Xa,cocoapods:Qa,codepen:Ya,codesandbox:Za,coffeescript:ei,commonjs:ti,"composition api":"Composition API",compositionapi:si,coredns:ni,"css modules":"CSS Modules",dapr:oi,datadog:ai,datagrip:ii,dbase:ci,definitelytyped:li,denodeploy:ri,"digital ocean":"DigitalOcean",digitalocean:pi,dingtalk:di,directx:ui,django:mi,duckduckgo:hi,dynamodb:fi,echarts:_i,ecmascript:gi,edgedb:vi,eggjs:bi,elasticsearch:xi,"element plus":"Element Plus",elementui:Si,esbuild:ki,eslint:yi,esxi:wi,etcd:Pi,facetime:Ci,fastapi:zi,ffmpeg:Mi,filezilla:Ti,firefox:$i,freemarker:ji,gdnative:Di,gdscript:Ri,geforce:Ii,geojson:Ei,geopackage:Oi,geopandas:Ni,geoserver:Ai,gitbook:Li,gitkraken:Fi,gltf:Vi,gnome:Bi,gnu:Gi,gnupg:Ui,goland:Wi,"google pay":"Google Pay",graphql:qi,greensock:Ji,grpc:Hi,hackernews:Ki,hacpai:Xi,hbase:Qi,hbuilderx:Yi,ibook:Zi,icloud:ec,idrac:tc,ilo:sc,imessage:nc,imovie:oc,imtoken:ac,influxdb:ic,intellij:cc,"intellij idea":"IntelliJ IDEA",ios:lc,ipados:rc,iphoto:pc,iscsi:dc,iterm:uc,itunes:mc,iwork:hc,javascript:fc,jetbrains:_c,jquery:gc,jsdoc:vc,jupyterlab:bc,katex:xc,kubernetes:Sc,latex:kc,less:yc,libreoffice:wc,"line pay":"LINE Pay",lineageos:Pc,macos:Cc,mariadb:zc,markdown:Mc,markdownlint:Tc,mathieu:$c,mathjax:jc,mathml:Dc,mathtype:Rc,matlab:Ic,mediawiki:Ec,memcached:Oc,messagepack:Nc,metamask:Ac,mkdocs:Lc,mlaas:Fc,mlops:Vc,mobx:Bc,mongodb:Gc,mongoose:Uc,"ms-dos":"MS-DOS",mybatis:Wc,mysql:qc,"naive ui":"Naive UI",naiveui:Jc,neo4j:Hc,nestjs:Kc,netbeans:Xc,netbios:Qc,nextjs:Yc,nixos:Zc,nocodb:el,"node.js":"Node.js",nosql:tl,"notepad ++":"Notepad++",npm:sl,numpy:nl,nuxtjs:ol,oauth:al,obs:il,ocaml:cl,onedrive:ll,onenote:rl,openai:pl,openapi:dl,opencv:ul,openfaas:ml,openflow:hl,opengauss:fl,opengl:_l,"opengl es":"OpenGL ES",openjdk:gl,openlayers:vl,openpgp:bl,opensea:xl,openssl:Sl,openstack:kl,openstreetmap:yl,opensuse:wl,openvino:Pl,openwrt:Cl,opnsense:zl,pagp:Ml,paypal:Tl,photoshop:$l,php:jl,phpstorm:Dl,pihole:Rl,planetscale:Il,postcss:El,postgis:Ol,postgresql:Nl,potplayer:Al,powerpoint:Ll,powershell:Fl,primevue:Vl,protobuf:Bl,pycharm:Gl,pytorch:Ul,qtscript:Wl,raii:ql,"react native":"React Native",redhat:Jl,redisearch:Hl,redisjson:Kl,rescript:Xl,restful:Ql,rethinkdb:Yl,rsshub:Zl,rust:er,rxdb:tr,rxjs:sr,"samsung pay":"Samsung Pay",sass:nr,scss:or,segmentfault:ar,"socket.io":"Socket.IO",solarwinds:ir,spatiallite:cr,"spir-v":"SPIR-V",springboot:lr,springcloud:rr,springmvc:pr,sqlite:dr,sqlserver:ur,storybook:mr,stylus:hr,"sublime text":"Sublime Text",surrealdb:fr,sveltekit:_r,"tailwind css":"Tailwind CSS",tailwindcss:gr,teamviewer:vr,tensorflow:br,testflight:xr,tex:Sr,threejs:kr,tianocore:yr,tidb:wr,tiflash:Pr,tiktok:Cr,tikv:zr,"travis ci":"Travis CI",trpc:Mr,tsdoc:Tr,tsdx:$r,turbopack:jr,turborepo:Dr,typeorm:Rr,typescript:Ir,uniapp:Er,unifi:Or,unix:Nr,unocss:Ar,upnp:Lr,vercel:Fr,videolan:Vr,vim:Br,virtualbox:Gr,"visual studio":"Visual Studio","visual studio code":"Visual Studio Code",vitepress:Ur,vividcortex:Wr,vlc:qr,vmware:Jr,voip:Hr,"vs code":"VS Code","vs codium":"VSCodium",vscode:Kr,vscodium:Xr,"vue cli":"Vue CLI",vuepress:Qr,vueuse:Yr,vulkan:Zr,w3c:ep,wasm:tp,watchos:sp,"web assembly":"WebAssembly",webar:np,webassembly:op,webgl:ap,webgpu:ip,webkit:cp,webpack:lp,webrtc:rp,websocket:pp,webstorm:dp,webvr:up,webxr:mp,wechat:hp,"wechat pay":"WeChat Pay",whatsapp:fp,"windi css":"Windi CSS",windicss:_p,wireguard:gp,wordpress:vp,xmind:bp,xstate:xp,yapi:Sp};var ae={...go,...Wo,...ra,...xa,...kp},yp=/@correct-case-ignore\s+([^\s]+)/g,wp="[-￿]",Pp=t=>{const e=Object.keys(t);return new RegExp(`\\b(${e.join("|").replace(/\+/g,"\\+")})\\b`,"gi")},Cp=(t,e,s)=>{const n=new RegExp(`${wp}`),o=t.charAt(s-1),a=t.charAt(s+e.length);return n.test(o)||n.test(a)},zp=(t,e=[])=>{const s=e.slice();Array.from(t.matchAll(yp)).forEach(i=>{const[,r]=i;s.push(...r.split(",").map(p=>p.trim().toLowerCase()).filter(Boolean))});const n=Pp(ae),o=[];return{text:t.replace(n,(i,r,p)=>{if(Cp(t,r,p)||!r.match(/[A-Z]/)||!r.match(/[a-z]/))return i;const u=r.toLowerCase();if(s.includes(u))return i;const m=ae[u];return!m||m===r?i:(o.push({before:i,after:m}),m)}),correctedWords:o.length?o:!1}},Mp=(t,e)=>{const s=(e||[]).map(n=>n.trim().toLowerCase());return zp(t,s)};const Tp=["innerHTML"],$p=c("span",{class:"iconify","data-icon":"carbon:rocket"},null,-1),jp=v({__name:"CorrectCase",setup(t){const{t:e}=z(),{data:s}=D(),{setToastFlag:n}=_e(),o=async()=>{const a=s.mdContent,i=await Mp(a);W(i.text);const r=i.correctedWords?i.correctedWords.length:!0;n("correct",r)};return(a,i)=>{const r=P,p=$;return g(),S(p,{text:l(e)("toolbar.correct_case.text"),icon:"icon-park-outline:check-correct"},{default:h(()=>[c("div",{class:"bg-c lg:bg-dark-c rounded py-2 px-3",innerHTML:l(e)("toolbar.correct_case.desc")},null,8,Tp),c("button",{class:"hstack space-x-1 mt-3 ml-auto px-2 py-1.5 rounded text-white",bg:"blue-500 hover:blue-600 hover:dark:blue-400",onClick:o},[d(r,null,{default:h(()=>[$p]),_:1}),c("span",null,y(l(e)("toolbar.correct_case.btn")),1)])]),_:1},8,["text"])}}}),Dp={flex:"","text-c":"","h-full":""},Rp=v({__name:"Toolbar",setup(t){const e=[{name:"file",icon:"carbon:import-export",component:d(Tt,{id:"toolbar-file"},null)},{name:"paper",icon:"majesticons:paper-fold-line",component:d(Rt,{id:"toolbar-paper"},null)},{name:"theme-color",icon:"material-symbols:palette-outline",component:d(Lt,{id:"toolbar-theme-color"},null)},{name:"font-family",icon:"material-symbols:font-download-outline",component:d(Ut,{id:"toolbar-font-family"},null)},{name:"font-size",icon:"ri:font-size-2",component:d(qt,{id:"toolbar-font-size"},null)},{name:"margins",icon:"radix-icons:margin",component:d(ts,{id:"toolbar-margins"},null)},{name:"paragraph-space",icon:"icon-park-outline:paragraph-break-two",component:d(ns,{id:"toolbar-paragraph-space"},null)},{name:"line-height",icon:"ic:round-format-line-spacing",component:d(as,{id:"toolbar-line-height"},null)},{name:"correct-case",icon:"icon-park-outline:check-correct",component:d(jp,{id:"toolbar-correct-case"},null)}],s=a=>{const i=document.querySelector("#toolbar"),r=document.querySelector(`#toolbar-${a}`);i.scrollTo({top:r.offsetTop-48-20,behavior:"smooth"})},n=()=>d("div",{class:"pane-container",id:"toolbar"},[e.map(a=>a.component)]),o=()=>d("div",{class:"flex-center flex-col flex-none space-y-1 w-9 md:w-10",border:"l c dashed lg:none"},[e.map(a=>d("button",{class:"round-btn",onClick:()=>s(a.name)},[d(P,null,{default:()=>[d("span",{class:"iconify",text:"sm md:base","data-icon":a.icon},null)]})]))]);return(a,i)=>(g(),w("div",Dp,[d(n),d(o)]))}});const Ip=()=>{const{width:t}=ie();return k(()=>t.value<=1024)},Ep={name:"splitpanes",emits:["ready","resize","resized","pane-click","pane-maximize","pane-add","pane-remove","splitter-click"],props:{horizontal:{type:Boolean},pushOtherPanes:{type:Boolean,default:!0},dblClickSplitter:{type:Boolean,default:!0},rtl:{type:Boolean,default:!1},firstSplitter:{type:Boolean}},provide(){return{requestUpdate:this.requestUpdate,onPaneAdd:this.onPaneAdd,onPaneRemove:this.onPaneRemove,onPaneClick:this.onPaneClick}},data:()=>({container:null,ready:!1,panes:[],touch:{mouseDown:!1,dragging:!1,activeSplitter:null},splitterTaps:{splitter:null,timeoutId:null}}),computed:{panesCount(){return this.panes.length},indexedPanes(){return this.panes.reduce((t,e)=>(t[e.id]=e)&&t,{})}},methods:{updatePaneComponents(){this.panes.forEach(t=>{t.update&&t.update({[this.horizontal?"height":"width"]:`${this.indexedPanes[t.id].size}%`})})},bindEvents(){document.addEventListener("mousemove",this.onMouseMove,{passive:!1}),document.addEventListener("mouseup",this.onMouseUp),"ontouchstart"in window&&(document.addEventListener("touchmove",this.onMouseMove,{passive:!1}),document.addEventListener("touchend",this.onMouseUp))},unbindEvents(){document.removeEventListener("mousemove",this.onMouseMove,{passive:!1}),document.removeEventListener("mouseup",this.onMouseUp),"ontouchstart"in window&&(document.removeEventListener("touchmove",this.onMouseMove,{passive:!1}),document.removeEventListener("touchend",this.onMouseUp))},onMouseDown(t,e){this.bindEvents(),this.touch.mouseDown=!0,this.touch.activeSplitter=e},onMouseMove(t){this.touch.mouseDown&&(t.preventDefault(),this.touch.dragging=!0,this.calculatePanesSize(this.getCurrentMouseDrag(t)),this.$emit("resize",this.panes.map(e=>({min:e.min,max:e.max,size:e.size}))))},onMouseUp(){this.touch.dragging&&this.$emit("resized",this.panes.map(t=>({min:t.min,max:t.max,size:t.size}))),this.touch.mouseDown=!1,setTimeout(()=>{this.touch.dragging=!1,this.unbindEvents()},100)},onSplitterClick(t,e){"ontouchstart"in window&&(t.preventDefault(),this.dblClickSplitter&&(this.splitterTaps.splitter===e?(clearTimeout(this.splitterTaps.timeoutId),this.splitterTaps.timeoutId=null,this.onSplitterDblClick(t,e),this.splitterTaps.splitter=null):(this.splitterTaps.splitter=e,this.splitterTaps.timeoutId=setTimeout(()=>{this.splitterTaps.splitter=null},500)))),this.touch.dragging||this.$emit("splitter-click",this.panes[e])},onSplitterDblClick(t,e){let s=0;this.panes=this.panes.map((n,o)=>(n.size=o===e?n.max:n.min,o!==e&&(s+=n.min),n)),this.panes[e].size-=s,this.$emit("pane-maximize",this.panes[e]),this.$emit("resized",this.panes.map(n=>({min:n.min,max:n.max,size:n.size})))},onPaneClick(t,e){this.$emit("pane-click",this.indexedPanes[e])},getCurrentMouseDrag(t){const e=this.container.getBoundingClientRect(),{clientX:s,clientY:n}="ontouchstart"in window&&t.touches?t.touches[0]:t;return{x:s-e.left,y:n-e.top}},getCurrentDragPercentage(t){t=t[this.horizontal?"y":"x"];const e=this.container[this.horizontal?"clientHeight":"clientWidth"];return this.rtl&&!this.horizontal&&(t=e-t),t*100/e},calculatePanesSize(t){const e=this.touch.activeSplitter;let s={prevPanesSize:this.sumPrevPanesSize(e),nextPanesSize:this.sumNextPanesSize(e),prevReachedMinPanes:0,nextReachedMinPanes:0};const n=0+(this.pushOtherPanes?0:s.prevPanesSize),o=100-(this.pushOtherPanes?0:s.nextPanesSize),a=Math.max(Math.min(this.getCurrentDragPercentage(t),o),n);let i=[e,e+1],r=this.panes[i[0]]||null,p=this.panes[i[1]]||null;const u=r.max<100&&a>=r.max+s.prevPanesSize,m=p.max<100&&a<=100-(p.max+this.sumNextPanesSize(e+1));if(u||m){u?(r.size=r.max,p.size=Math.max(100-r.max-s.prevPanesSize-s.nextPanesSize,0)):(r.size=Math.max(100-p.max-s.prevPanesSize-this.sumNextPanesSize(e+1),0),p.size=p.max);return}if(this.pushOtherPanes){const f=this.doPushOtherPanes(s,a);if(!f)return;({sums:s,panesToResize:i}=f),r=this.panes[i[0]]||null,p=this.panes[i[1]]||null}r!==null&&(r.size=Math.min(Math.max(a-s.prevPanesSize-s.prevReachedMinPanes,r.min),r.max)),p!==null&&(p.size=Math.min(Math.max(100-a-s.nextPanesSize-s.nextReachedMinPanes,p.min),p.max))},doPushOtherPanes(t,e){const s=this.touch.activeSplitter,n=[s,s+1];return e<t.prevPanesSize+this.panes[n[0]].min&&(n[0]=this.findPrevExpandedPane(s).index,t.prevReachedMinPanes=0,n[0]<s&&this.panes.forEach((o,a)=>{a>n[0]&&a<=s&&(o.size=o.min,t.prevReachedMinPanes+=o.min)}),t.prevPanesSize=this.sumPrevPanesSize(n[0]),n[0]===void 0)?(t.prevReachedMinPanes=0,this.panes[0].size=this.panes[0].min,this.panes.forEach((o,a)=>{a>0&&a<=s&&(o.size=o.min,t.prevReachedMinPanes+=o.min)}),this.panes[n[1]].size=100-t.prevReachedMinPanes-this.panes[0].min-t.prevPanesSize-t.nextPanesSize,null):e>100-t.nextPanesSize-this.panes[n[1]].min&&(n[1]=this.findNextExpandedPane(s).index,t.nextReachedMinPanes=0,n[1]>s+1&&this.panes.forEach((o,a)=>{a>s&&a<n[1]&&(o.size=o.min,t.nextReachedMinPanes+=o.min)}),t.nextPanesSize=this.sumNextPanesSize(n[1]-1),n[1]===void 0)?(t.nextReachedMinPanes=0,this.panes[this.panesCount-1].size=this.panes[this.panesCount-1].min,this.panes.forEach((o,a)=>{a<this.panesCount-1&&a>=s+1&&(o.size=o.min,t.nextReachedMinPanes+=o.min)}),this.panes[n[0]].size=100-t.prevPanesSize-t.nextReachedMinPanes-this.panes[this.panesCount-1].min-t.nextPanesSize,null):{sums:t,panesToResize:n}},sumPrevPanesSize(t){return this.panes.reduce((e,s,n)=>e+(n<t?s.size:0),0)},sumNextPanesSize(t){return this.panes.reduce((e,s,n)=>e+(n>t+1?s.size:0),0)},findPrevExpandedPane(t){return[...this.panes].reverse().find(e=>e.index<t&&e.size>e.min)||{}},findNextExpandedPane(t){return this.panes.find(e=>e.index>t+1&&e.size>e.min)||{}},checkSplitpanesNodes(){Array.from(this.container.children).forEach(t=>{const e=t.classList.contains("splitpanes__pane"),s=t.classList.contains("splitpanes__splitter");!e&&!s&&(t.parentNode.removeChild(t),console.warn("Splitpanes: Only <pane> elements are allowed at the root of <splitpanes>. One of your DOM nodes was removed."))})},addSplitter(t,e,s=!1){const n=t-1,o=document.createElement("div");o.classList.add("splitpanes__splitter"),s||(o.onmousedown=a=>this.onMouseDown(a,n),typeof window<"u"&&"ontouchstart"in window&&(o.ontouchstart=a=>this.onMouseDown(a,n)),o.onclick=a=>this.onSplitterClick(a,n+1)),this.dblClickSplitter&&(o.ondblclick=a=>this.onSplitterDblClick(a,n+1)),e.parentNode.insertBefore(o,e)},removeSplitter(t){t.onmousedown=void 0,t.onclick=void 0,t.ondblclick=void 0,t.parentNode.removeChild(t)},redoSplitters(){const t=Array.from(this.container.children);t.forEach(s=>{s.className.includes("splitpanes__splitter")&&this.removeSplitter(s)});let e=0;t.forEach(s=>{s.className.includes("splitpanes__pane")&&(!e&&this.firstSplitter?this.addSplitter(e,s,!0):e&&this.addSplitter(e,s),e++)})},requestUpdate({target:t,...e}){const s=this.indexedPanes[t._.uid];Object.entries(e).forEach(([n,o])=>s[n]=o)},onPaneAdd(t){let e=-1;Array.from(t.$el.parentNode.children).some(o=>(o.className.includes("splitpanes__pane")&&e++,o===t.$el));const s=parseFloat(t.minSize),n=parseFloat(t.maxSize);this.panes.splice(e,0,{id:t._.uid,index:e,min:isNaN(s)?0:s,max:isNaN(n)?100:n,size:t.size===null?null:parseFloat(t.size),givenSize:t.size,update:t.update}),this.panes.forEach((o,a)=>o.index=a),this.ready&&this.$nextTick(()=>{this.redoSplitters(),this.resetPaneSizes({addedPane:this.panes[e]}),this.$emit("pane-add",{index:e,panes:this.panes.map(o=>({min:o.min,max:o.max,size:o.size}))})})},onPaneRemove(t){const e=this.panes.findIndex(n=>n.id===t._.uid),s=this.panes.splice(e,1)[0];this.panes.forEach((n,o)=>n.index=o),this.$nextTick(()=>{this.redoSplitters(),this.resetPaneSizes({removedPane:{...s,index:e}}),this.$emit("pane-remove",{removed:s,panes:this.panes.map(n=>({min:n.min,max:n.max,size:n.size}))})})},resetPaneSizes(t={}){!t.addedPane&&!t.removedPane?this.initialPanesSizing():this.panes.some(e=>e.givenSize!==null||e.min||e.max<100)?this.equalizeAfterAddOrRemove(t):this.equalize(),this.ready&&this.$emit("resized",this.panes.map(e=>({min:e.min,max:e.max,size:e.size})))},equalize(){const t=100/this.panesCount;let e=0;const s=[],n=[];this.panes.forEach(o=>{o.size=Math.max(Math.min(t,o.max),o.min),e-=o.size,o.size>=o.max&&s.push(o.id),o.size<=o.min&&n.push(o.id)}),e>.1&&this.readjustSizes(e,s,n)},initialPanesSizing(){let t=100;const e=[],s=[];let n=0;this.panes.forEach(a=>{t-=a.size,a.size!==null&&n++,a.size>=a.max&&e.push(a.id),a.size<=a.min&&s.push(a.id)});let o=100;t>.1&&(this.panes.forEach(a=>{a.size===null&&(a.size=Math.max(Math.min(t/(this.panesCount-n),a.max),a.min)),o-=a.size}),o>.1&&this.readjustSizes(t,e,s))},equalizeAfterAddOrRemove({addedPane:t,removedPane:e}={}){let s=100/this.panesCount,n=0;const o=[],a=[];t&&t.givenSize!==null&&(s=(100-t.givenSize)/(this.panesCount-1)),this.panes.forEach(i=>{n-=i.size,i.size>=i.max&&o.push(i.id),i.size<=i.min&&a.push(i.id)}),!(Math.abs(n)<.1)&&(this.panes.forEach(i=>{t&&t.givenSize!==null&&t.id===i.id||(i.size=Math.max(Math.min(s,i.max),i.min)),n-=i.size,i.size>=i.max&&o.push(i.id),i.size<=i.min&&a.push(i.id)}),n>.1&&this.readjustSizes(n,o,a))},readjustSizes(t,e,s){let n;t>0?n=t/(this.panesCount-e.length):n=t/(this.panesCount-s.length),this.panes.forEach((o,a)=>{if(t>0&&!e.includes(o.id)){const i=Math.max(Math.min(o.size+n,o.max),o.min),r=i-o.size;t-=r,o.size=i}else if(!s.includes(o.id)){const i=Math.max(Math.min(o.size+n,o.max),o.min),r=i-o.size;t-=r,o.size=i}o.update({[this.horizontal?"height":"width"]:`${this.indexedPanes[o.id].size}%`})}),Math.abs(t)>.1&&this.$nextTick(()=>{this.ready&&console.warn("Splitpanes: Could not resize panes correctly due to their constraints.")})}},watch:{panes:{deep:!0,immediate:!1,handler(){this.updatePaneComponents()}},horizontal(){this.updatePaneComponents()},firstSplitter(){this.redoSplitters()},dblClickSplitter(t){[...this.container.querySelectorAll(".splitpanes__splitter")].forEach((e,s)=>{e.ondblclick=t?n=>this.onSplitterDblClick(n,s):void 0})}},beforeUnmount(){this.ready=!1},mounted(){this.container=this.$refs.container,this.checkSplitpanesNodes(),this.redoSplitters(),this.resetPaneSizes(),this.$emit("ready"),this.ready=!0},render(){return J("div",{ref:"container",class:["splitpanes",`splitpanes--${this.horizontal?"horizontal":"vertical"}`,{"splitpanes--dragging":this.touch.dragging}]},this.$slots.default())}},Op=(t,e)=>{const s=t.__vccOpts||t;for(const[n,o]of e)s[n]=o;return s},Np={name:"pane",inject:["requestUpdate","onPaneAdd","onPaneRemove","onPaneClick"],props:{size:{type:[Number,String],default:null},minSize:{type:[Number,String],default:0},maxSize:{type:[Number,String],default:100}},data:()=>({style:{}}),mounted(){this.onPaneAdd(this)},beforeUnmount(){this.onPaneRemove(this)},methods:{update(t){this.style=t}},computed:{sizeNumber(){return this.size||this.size===0?parseFloat(this.size):null},minSizeNumber(){return parseFloat(this.minSize)},maxSizeNumber(){return parseFloat(this.maxSize)}},watch:{sizeNumber(t){this.requestUpdate({target:this,size:t})},minSizeNumber(t){this.requestUpdate({target:this,min:t})},maxSizeNumber(t){this.requestUpdate({target:this,max:t})}}};function Ap(t,e,s,n,o,a){return g(),w("div",{class:"splitpanes__pane",onClick:e[0]||(e[0]=i=>a.onPaneClick(i,t._.uid)),style:H(t.style)},[X(t.$slots,"default")],4)}const U=Op(Np,[["render",Ap]]);const Lp={class:"edit-page"},qp=v({__name:"[id]",setup(t){const e=Te();(async()=>await ge(e.params.id))();const s=Ip(),n=b(!s.value);ve();const{width:o}=ie(),a=~~(300/o.value*100),i=k(()=>~~(250/o.value*100)),r=k(()=>~~(350/o.value*100));return(p,u)=>{const m=Ne,f=Le,_=Ue,x=Ee,C=Qe,V=it,R=Rp;return g(),w("div",Lp,[d(x,null,{middle:h(()=>[d(m)]),tail:h(()=>[d(f),d(_,{"is-toolbar-open":l(n),onToggleToolbar:u[0]||(u[0]=N=>n.value=!l(n))},null,8,["is-toolbar-open"])]),_:1}),d(l(Ep),{class:"workspace default-theme",horizontal:l(s)},{default:h(()=>[d(l(U),{class:"editor-pane px-2 lg:pl-2 lg:pr-1"},{default:h(()=>[d(C)]),_:1}),d(l(U),{class:"preview-pane px-2 pt-1 lg:px-1 lg:pt-0","min-size":"20"},{default:h(()=>[d(V)]),_:1}),!l(s)&&l(n)?(g(),S(l(U),{key:0,class:"toolbar-pane pl-1",size:a,"min-size":l(i),"max-size":l(r)},{default:h(()=>[d(R)]),_:1},8,["min-size","max-size"])):E("",!0)]),_:1},8,["horizontal"]),l(s)&&l(n)?(g(),S(R,{key:0,class:"toolbar-mobile"})):E("",!0)])}}});export{qp as default};
